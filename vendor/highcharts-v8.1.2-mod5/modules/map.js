/*
 Highmaps JS v8.2.0 (2020-08-27)

 Highmaps as a plugin for Highcharts or Highstock.

 (c) 2011-2019 Torstein Honsi

 License: www.highcharts.com/license
*/
(function(a){"object"===typeof module&&module.exports?(a["default"]=a,module.exports=a):"function"===typeof define&&define.amd?define("highcharts/modules/map",["highcharts"],function(w){a(w);a.Highcharts=w;return a}):a("undefined"!==typeof Highcharts?Highcharts:void 0)})(function(a){function w(a,q,k,r){a.hasOwnProperty(q)||(a[q]=r.apply(null,k))}a=a?a._modules:{};w(a,"Core/Axis/MapAxis.js",[a["Core/Axis/Axis.js"],a["Core/Utilities.js"]],function(a,q){var k=q.addEvent,r=q.pick,b=function(){return function(b){this.axis=
b}}();q=function(){function a(){}a.compose=function(a){a.keepProps.push("mapAxis");k(a,"init",function(){this.mapAxis||(this.mapAxis=new b(this))});k(a,"getSeriesExtremes",function(){if(this.mapAxis){var b=[];this.isXAxis&&(this.series.forEach(function(a,n){a.useMapGeometry&&(b[n]=a.xData,a.xData=[])}),this.mapAxis.seriesXData=b)}});k(a,"afterGetSeriesExtremes",function(){if(this.mapAxis){var b=this.mapAxis.seriesXData||[],a;if(this.isXAxis){var n=r(this.dataMin,Number.MAX_VALUE);var g=r(this.dataMax,
-Number.MAX_VALUE);this.series.forEach(function(m,x){m.useMapGeometry&&(n=Math.min(n,r(m.minX,n)),g=Math.max(g,r(m.maxX,g)),m.xData=b[x],a=!0)});a&&(this.dataMin=n,this.dataMax=g);this.mapAxis.seriesXData=void 0}}});k(a,"afterSetAxisTranslation",function(){if(this.mapAxis){var b=this.chart,a=b.plotWidth/b.plotHeight;b=b.xAxis[0];var n;"yAxis"===this.coll&&"undefined"!==typeof b.transA&&this.series.forEach(function(b){b.preserveAspectRatio&&(n=!0)});if(n&&(this.transA=b.transA=Math.min(this.transA,
b.transA),a/=(b.max-b.min)/(this.max-this.min),a=1>a?this:b,b=(a.max-a.min)*a.transA,a.mapAxis.pixelPadding=a.len-b,a.minPixelPadding=a.mapAxis.pixelPadding/2,b=a.mapAxis.fixTo)){b=b[1]-a.toValue(b[0],!0);b*=a.transA;if(Math.abs(b)>a.minPixelPadding||a.min===a.dataMin&&a.max===a.dataMax)b=0;a.minPixelPadding-=b}}});k(a,"render",function(){this.mapAxis&&(this.mapAxis.fixTo=void 0)})};return a}();q.compose(a);return q});w(a,"Mixins/ColorSeries.js",[a["Core/Globals.js"]],function(a){a.colorPointMixin=
{setVisible:function(a){var k=this,r=a?"show":"hide";k.visible=k.options.visible=!!a;["graphic","dataLabel"].forEach(function(a){if(k[a])k[a][r]()});this.series.buildKDTree()}};a.colorSeriesMixin={optionalAxis:"colorAxis",colorAxis:0,translateColors:function(){var a=this,k=this.options.nullColor,r=this.colorAxis,b=this.colorKey;(this.data.length?this.data:this.points).forEach(function(u){var q=u.getNestedProperty(b);(q=u.options.color||(u.isNull||null===u.value?k:r&&"undefined"!==typeof q?r.toColor(q,
u):u.color||a.color))&&u.color!==q&&(u.color=q,"point"===a.options.legendType&&u.legendItem&&a.chart.legend.colorizeItem(u,u.visible))})}}});w(a,"Core/Axis/ColorAxis.js",[a["Core/Axis/Axis.js"],a["Core/Chart/Chart.js"],a["Core/Color.js"],a["Core/Globals.js"],a["Core/Legend.js"],a["Mixins/LegendSymbol.js"],a["Core/Series/Point.js"],a["Core/Utilities.js"]],function(a,q,k,r,b,u,E,B){var y=this&&this.__extends||function(){var d=function(f,e){d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,
d){e.__proto__=d}||function(e,d){for(var t in d)d.hasOwnProperty(t)&&(e[t]=d[t])};return d(f,e)};return function(f,e){function t(){this.constructor=f}d(f,e);f.prototype=null===e?Object.create(e):(t.prototype=e.prototype,new t)}}(),n=k.parse,g=r.noop;k=B.addEvent;var m=B.erase,x=B.extend,z=B.Fx,l=B.isNumber,h=B.merge,v=B.pick,p=B.splat;"";var d=r.Series;B=r.colorPointMixin;x(d.prototype,r.colorSeriesMixin);x(E.prototype,B);q.prototype.collectionsWithUpdate.push("colorAxis");q.prototype.collectionsWithInit.colorAxis=
[q.prototype.addColorAxis];var f=function(f){function c(e,t){var c=f.call(this,e,t)||this;c.beforePadding=!1;c.chart=void 0;c.coll="colorAxis";c.dataClasses=void 0;c.legendItem=void 0;c.legendItems=void 0;c.name="";c.options=void 0;c.stops=void 0;c.visible=!0;c.init(e,t);return c}y(c,f);c.buildOptions=function(e,t,c){e=e.options.legend||{};var f=c.layout?"vertical"!==c.layout:"vertical"!==e.layout;return h(t,{side:f?2:1,reversed:!f},c,{opposite:!f,showEmpty:!1,title:null,visible:e.enabled&&(c?!1!==
c.visible:!0)})};c.prototype.init=function(e,t){var d=c.buildOptions(e,c.defaultOptions,t);this.coll="colorAxis";f.prototype.init.call(this,e,d);t.dataClasses&&this.initDataClasses(t);this.initStops();this.horiz=!d.opposite;this.zoomEnabled=!1};c.prototype.initDataClasses=function(e){var c=this.chart,f,d=0,a=c.options.chart.colorCount,p=this.options,m=e.dataClasses.length;this.dataClasses=f=[];this.legendItems=[];e.dataClasses.forEach(function(e,t){e=h(e);f.push(e);if(c.styledMode||!e.color)"category"===
p.dataClassColor?(c.styledMode||(t=c.options.colors,a=t.length,e.color=t[d]),e.colorIndex=d,d++,d===a&&(d=0)):e.color=n(p.minColor).tweenTo(n(p.maxColor),2>m?.5:t/(m-1))})};c.prototype.hasData=function(){return!!(this.tickPositions||[]).length};c.prototype.setTickPositions=function(){if(!this.dataClasses)return f.prototype.setTickPositions.call(this)};c.prototype.initStops=function(){this.stops=this.options.stops||[[0,this.options.minColor],[1,this.options.maxColor]];this.stops.forEach(function(e){e.color=
n(e[1])})};c.prototype.setOptions=function(e){f.prototype.setOptions.call(this,e);this.options.crosshair=this.options.marker};c.prototype.setAxisSize=function(){var e=this.legendSymbol,t=this.chart,f=t.options.legend||{},d,a;e?(this.left=f=e.attr("x"),this.top=d=e.attr("y"),this.width=a=e.attr("width"),this.height=e=e.attr("height"),this.right=t.chartWidth-f-a,this.bottom=t.chartHeight-d-e,this.len=this.horiz?a:e,this.pos=this.horiz?f:d):this.len=(this.horiz?f.symbolWidth:f.symbolHeight)||c.defaultLegendLength};
c.prototype.normalizedValue=function(e){this.logarithmic&&(e=this.logarithmic.log2lin(e));return 1-(this.max-e)/(this.max-this.min||1)};c.prototype.toColor=function(e,c){var t=this.dataClasses,f=this.stops,d;if(t)for(d=t.length;d--;){var a=t[d];var h=a.from;f=a.to;if(("undefined"===typeof h||e>=h)&&("undefined"===typeof f||e<=f)){var p=a.color;c&&(c.dataClass=d,c.colorIndex=a.colorIndex);break}}else{e=this.normalizedValue(e);for(d=f.length;d--&&!(e>f[d][0]););h=f[d]||f[d+1];f=f[d+1]||h;e=1-(f[0]-
e)/(f[0]-h[0]||1);p=h.color.tweenTo(f.color,e)}return p};c.prototype.getOffset=function(){var e=this.legendGroup,c=this.chart.axisOffset[this.side];e&&(this.axisParent=e,f.prototype.getOffset.call(this),this.added||(this.added=!0,this.labelLeft=0,this.labelRight=this.width),this.chart.axisOffset[this.side]=c)};c.prototype.setLegendColor=function(){var e=this.reversed,c=e?1:0;e=e?0:1;c=this.horiz?[c,0,e,0]:[0,e,0,c];this.legendColor={linearGradient:{x1:c[0],y1:c[1],x2:c[2],y2:c[3]},stops:this.stops}};
c.prototype.drawLegendSymbol=function(e,f){var d=e.padding,t=e.options,a=this.horiz,h=v(t.symbolWidth,a?c.defaultLegendLength:12),p=v(t.symbolHeight,a?12:c.defaultLegendLength),m=v(t.labelPadding,a?16:30);t=v(t.itemDistance,10);this.setLegendColor();f.legendSymbol=this.chart.renderer.rect(0,e.baseline-11,h,p).attr({zIndex:1}).add(f.legendGroup);this.legendItemWidth=h+d+(a?t:m);this.legendItemHeight=p+d+(a?m:0)};c.prototype.setState=function(e){this.series.forEach(function(c){c.setState(e)})};c.prototype.setVisible=
function(){};c.prototype.getSeriesExtremes=function(){var e=this.series,c=e.length,f;this.dataMin=Infinity;for(this.dataMax=-Infinity;c--;){var a=e[c];var h=a.colorKey=v(a.options.colorKey,a.colorKey,a.pointValKey,a.zoneAxis,"y");var p=a.pointArrayMap;var m=a[h+"Min"]&&a[h+"Max"];if(a[h+"Data"])var l=a[h+"Data"];else if(p){l=[];p=p.indexOf(h);var b=a.yData;if(0<=p&&b)for(f=0;f<b.length;f++)l.push(v(b[f][p],b[f]))}else l=a.yData;m?(a.minColorValue=a[h+"Min"],a.maxColorValue=a[h+"Max"]):(l=d.prototype.getExtremes.call(a,
l),a.minColorValue=l.dataMin,a.maxColorValue=l.dataMax);"undefined"!==typeof a.minColorValue&&(this.dataMin=Math.min(this.dataMin,a.minColorValue),this.dataMax=Math.max(this.dataMax,a.maxColorValue));m||d.prototype.applyExtremes.call(a)}};c.prototype.drawCrosshair=function(e,c){var d=c&&c.plotX,t=c&&c.plotY,a=this.pos,h=this.len;if(c){var p=this.toPixels(c.getNestedProperty(c.series.colorKey));p<a?p=a-2:p>a+h&&(p=a+h+2);c.plotX=p;c.plotY=this.len-p;f.prototype.drawCrosshair.call(this,e,c);c.plotX=
d;c.plotY=t;this.cross&&!this.cross.addedToColorAxis&&this.legendGroup&&(this.cross.addClass("highcharts-coloraxis-marker").add(this.legendGroup),this.cross.addedToColorAxis=!0,!this.chart.styledMode&&this.crosshair&&this.cross.attr({fill:this.crosshair.color}))}};c.prototype.getPlotLinePath=function(e){var c=this.left,d=e.translatedValue,a=this.top;return l(d)?this.horiz?[["M",d-4,a-6],["L",d+4,a-6],["L",d,a],["Z"]]:[["M",c,d],["L",c-6,d+6],["L",c-6,d-6],["Z"]]:f.prototype.getPlotLinePath.call(this,
e)};c.prototype.update=function(e,d){var a=this.chart,t=a.legend,p=c.buildOptions(a,{},e);this.series.forEach(function(e){e.isDirtyData=!0});(e.dataClasses&&t.allItems||this.dataClasses)&&this.destroyItems();a.options[this.coll]=h(this.userOptions,p);f.prototype.update.call(this,p,d);this.legendItem&&(this.setLegendColor(),t.colorizeItem(this,!0))};c.prototype.destroyItems=function(){var e=this.chart;this.legendItem?e.legend.destroyItem(this):this.legendItems&&this.legendItems.forEach(function(c){e.legend.destroyItem(c)});
e.isDirtyLegend=!0};c.prototype.remove=function(e){this.destroyItems();f.prototype.remove.call(this,e)};c.prototype.getDataClassLegendSymbols=function(){var e=this,c=e.chart,d=e.legendItems,f=c.options.legend,a=f.valueDecimals,p=f.valueSuffix||"",h;d.length||e.dataClasses.forEach(function(f,t){var m=!0,l=f.from,b=f.to,v=c.numberFormatter;h="";"undefined"===typeof l?h="< ":"undefined"===typeof b&&(h="> ");"undefined"!==typeof l&&(h+=v(l,a)+p);"undefined"!==typeof l&&"undefined"!==typeof b&&(h+=" - ");
"undefined"!==typeof b&&(h+=v(b,a)+p);d.push(x({chart:c,name:h,options:{},drawLegendSymbol:u.drawRectangle,visible:!0,setState:g,isDataClass:!0,setVisible:function(){m=e.visible=!m;e.series.forEach(function(e){e.points.forEach(function(e){e.dataClass===t&&e.setVisible(m)})});c.legend.colorizeItem(this,m)}},f))});return d};c.defaultLegendLength=200;c.defaultOptions={lineWidth:0,minPadding:0,maxPadding:0,gridLineWidth:1,tickPixelInterval:72,startOnTick:!0,endOnTick:!0,offset:0,marker:{animation:{duration:50},
width:.01,color:"#999999"},labels:{overflow:"justify",rotation:0},minColor:"#e6ebf5",maxColor:"#003399",tickLength:5,showInLegend:!0};c.keepProps=["legendGroup","legendItemHeight","legendItemWidth","legendItem","legendSymbol"];return c}(a);Array.prototype.push.apply(a.keepProps,f.keepProps);r.ColorAxis=f;["fill","stroke"].forEach(function(c){z.prototype[c+"Setter"]=function(){this.elem.attr(c,n(this.start).tweenTo(n(this.end),this.pos),null,!0)}});k(q,"afterGetAxes",function(){var c=this,d=c.options;
this.colorAxis=[];d.colorAxis&&(d.colorAxis=p(d.colorAxis),d.colorAxis.forEach(function(e,d){e.index=d;new f(c,e)}))});k(d,"bindAxes",function(){var c=this.axisTypes;c?-1===c.indexOf("colorAxis")&&c.push("colorAxis"):this.axisTypes=["colorAxis"]});k(b,"afterGetAllItems",function(c){var d=[],e,f;(this.chart.colorAxis||[]).forEach(function(f){(e=f.options)&&e.showInLegend&&(e.dataClasses&&e.visible?d=d.concat(f.getDataClassLegendSymbols()):e.visible&&d.push(f),f.series.forEach(function(d){if(!d.options.showInLegend||
e.dataClasses)"point"===d.options.legendType?d.points.forEach(function(e){m(c.allItems,e)}):m(c.allItems,d)}))});for(f=d.length;f--;)c.allItems.unshift(d[f])});k(b,"afterColorizeItem",function(c){c.visible&&c.item.legendColor&&c.item.legendSymbol.attr({fill:c.item.legendColor})});k(b,"afterUpdate",function(){var c=this.chart.colorAxis;c&&c.forEach(function(c,e,d){c.update({},d)})});k(d,"afterTranslate",function(){(this.chart.colorAxis&&this.chart.colorAxis.length||this.colorAttribs)&&this.translateColors()});
return f});w(a,"Mixins/ColorMapSeries.js",[a["Core/Globals.js"],a["Core/Series/Point.js"],a["Core/Utilities.js"]],function(a,q,k){var r=k.defined;return{colorMapPointMixin:{dataLabelOnNull:!0,isValid:function(){return null!==this.value&&Infinity!==this.value&&-Infinity!==this.value},setState:function(a){q.prototype.setState.call(this,a);this.graphic&&this.graphic.attr({zIndex:"hover"===a?1:0})}},colorMapSeriesMixin:{pointArrayMap:["value"],axisTypes:["xAxis","yAxis","colorAxis"],trackerGroups:["group",
"markerGroup","dataLabelsGroup"],getSymbol:a.noop,parallelArrays:["x","y","value"],colorKey:"value",pointAttribs:a.seriesTypes.column.prototype.pointAttribs,colorAttribs:function(a){var b={};r(a.color)&&(b[this.colorProp||"fill"]=a.color);return b}}}});w(a,"Maps/MapNavigation.js",[a["Core/Chart/Chart.js"],a["Core/Globals.js"],a["Core/Utilities.js"]],function(a,q,k){function r(a){a&&(a.preventDefault&&a.preventDefault(),a.stopPropagation&&a.stopPropagation(),a.cancelBubble=!0)}function b(a){this.init(a)}
var u=q.doc,y=k.addEvent,B=k.extend,A=k.merge,n=k.objectEach,g=k.pick;b.prototype.init=function(a){this.chart=a;a.mapNavButtons=[]};b.prototype.update=function(a){var b=this.chart,m=b.options.mapNavigation,l,h,v,p,d,f=function(c){this.handler.call(b,c);r(c)},c=b.mapNavButtons;a&&(m=b.options.mapNavigation=A(b.options.mapNavigation,a));for(;c.length;)c.pop().destroy();g(m.enableButtons,m.enabled)&&!b.renderer.forExport&&n(m.buttons,function(a,e){l=A(m.buttonOptions,a);b.styledMode||(h=l.theme,h.style=
A(l.theme.style,l.style),p=(v=h.states)&&v.hover,d=v&&v.select);a=b.renderer.button(l.text,0,0,f,h,p,d,0,"zoomIn"===e?"topbutton":"bottombutton").addClass("highcharts-map-navigation highcharts-"+{zoomIn:"zoom-in",zoomOut:"zoom-out"}[e]).attr({width:l.width,height:l.height,title:b.options.lang[e],padding:l.padding,zIndex:5}).add();a.handler=l.onclick;y(a.element,"dblclick",r);c.push(a);var t=l,g=y(b,"load",function(){a.align(B(t,{width:a.width,height:2*a.height}),null,t.alignTo);g()})});this.updateEvents(m)};
b.prototype.updateEvents=function(a){var b=this.chart;g(a.enableDoubleClickZoom,a.enabled)||a.enableDoubleClickZoomTo?this.unbindDblClick=this.unbindDblClick||y(b.container,"dblclick",function(a){b.pointer.onContainerDblClick(a)}):this.unbindDblClick&&(this.unbindDblClick=this.unbindDblClick());g(a.enableMouseWheelZoom,a.enabled)?this.unbindMouseWheel=this.unbindMouseWheel||y(b.container,"undefined"===typeof u.onmousewheel?"DOMMouseScroll":"mousewheel",function(a){b.pointer.onContainerMouseWheel(a);
r(a);return!1}):this.unbindMouseWheel&&(this.unbindMouseWheel=this.unbindMouseWheel())};B(a.prototype,{fitToBox:function(a,b){[["x","width"],["y","height"]].forEach(function(m){var l=m[0];m=m[1];a[l]+a[m]>b[l]+b[m]&&(a[m]>b[m]?(a[m]=b[m],a[l]=b[l]):a[l]=b[l]+b[m]-a[m]);a[m]>b[m]&&(a[m]=b[m]);a[l]<b[l]&&(a[l]=b[l])});return a},mapZoom:function(a,b,n,l,h){var m=this.xAxis[0],p=m.max-m.min,d=g(b,m.min+p/2),f=p*a;p=this.yAxis[0];var c=p.max-p.min,u=g(n,p.min+c/2);c*=a;d=this.fitToBox({x:d-f*(l?(l-m.pos)/
m.len:.5),y:u-c*(h?(h-p.pos)/p.len:.5),width:f,height:c},{x:m.dataMin,y:p.dataMin,width:m.dataMax-m.dataMin,height:p.dataMax-p.dataMin});f=d.x<=m.dataMin&&d.width>=m.dataMax-m.dataMin&&d.y<=p.dataMin&&d.height>=p.dataMax-p.dataMin;l&&m.mapAxis&&(m.mapAxis.fixTo=[l-m.pos,b]);h&&p.mapAxis&&(p.mapAxis.fixTo=[h-p.pos,n]);"undefined"===typeof a||f?(m.setExtremes(void 0,void 0,!1),p.setExtremes(void 0,void 0,!1)):(m.setExtremes(d.x,d.x+d.width,!1),p.setExtremes(d.y,d.y+d.height,!1));this.redraw()}});y(a,
"beforeRender",function(){this.mapNavigation=new b(this);this.mapNavigation.update()});q.MapNavigation=b});w(a,"Maps/MapPointer.js",[a["Core/Pointer.js"],a["Core/Utilities.js"]],function(a,q){var k=q.extend,r=q.pick;q=q.wrap;k(a.prototype,{onContainerDblClick:function(a){var b=this.chart;a=this.normalize(a);b.options.mapNavigation.enableDoubleClickZoomTo?b.pointer.inClass(a.target,"highcharts-tracker")&&b.hoverPoint&&b.hoverPoint.zoomTo():b.isInsidePlot(a.chartX-b.plotLeft,a.chartY-b.plotTop)&&b.mapZoom(.5,
b.xAxis[0].toValue(a.chartX),b.yAxis[0].toValue(a.chartY),a.chartX,a.chartY)},onContainerMouseWheel:function(a){var b=this.chart;a=this.normalize(a);var k=a.detail||-(a.wheelDelta/120);b.isInsidePlot(a.chartX-b.plotLeft,a.chartY-b.plotTop)&&b.mapZoom(Math.pow(b.options.mapNavigation.mouseWheelSensitivity,k),b.xAxis[0].toValue(a.chartX),b.yAxis[0].toValue(a.chartY),a.chartX,a.chartY)}});q(a.prototype,"zoomOption",function(a){var b=this.chart.options.mapNavigation;r(b.enableTouchZoom,b.enabled)&&(this.chart.options.chart.pinchType=
"xy");a.apply(this,[].slice.call(arguments,1))});q(a.prototype,"pinchTranslate",function(a,k,r,q,y,n,g){a.call(this,k,r,q,y,n,g);"map"===this.chart.options.chart.type&&this.hasZoom&&(a=q.scaleX>q.scaleY,this.pinchTranslateDirection(!a,k,r,q,y,n,g,a?q.scaleX:q.scaleY))})});w(a,"Maps/Map.js",[a["Core/Chart/Chart.js"],a["Core/Globals.js"],a["Core/Options.js"],a["Core/Renderer/SVG/SVGRenderer.js"],a["Core/Utilities.js"]],function(a,q,k,r,b){function u(a,b,g,l,h,n,p,d){return[["M",a+h,b],["L",a+g-n,b],
["C",a+g-n/2,b,a+g,b+n/2,a+g,b+n],["L",a+g,b+l-p],["C",a+g,b+l-p/2,a+g-p/2,b+l,a+g-p,b+l],["L",a+d,b+l],["C",a+d/2,b+l,a,b+l-d/2,a,b+l-d],["L",a,b+h],["C",a,b+h/2,a+h/2,b,a+h,b],["Z"]]}k=k.defaultOptions;var y=b.extend,B=b.getOptions,w=b.merge,n=b.pick;b=q.Renderer;var g=q.VMLRenderer;y(k.lang,{zoomIn:"Zoom in",zoomOut:"Zoom out"});k.mapNavigation={buttonOptions:{alignTo:"plotBox",align:"left",verticalAlign:"top",x:0,width:18,height:18,padding:5,style:{fontSize:"15px",fontWeight:"bold"},theme:{"stroke-width":1,
"text-align":"center"}},buttons:{zoomIn:{onclick:function(){this.mapZoom(.5)},text:"+",y:0},zoomOut:{onclick:function(){this.mapZoom(2)},text:"-",y:28}},mouseWheelSensitivity:1.1};k=q.splitPath=function(a){"string"===typeof a&&(a=a.replace(/([A-Za-z])/g," $1 ").replace(/^\s*/,"").replace(/\s*$/,""),a=a.split(/[ ,;]+/).map(function(a){return/[A-za-z]/.test(a)?a:parseFloat(a)}));return r.prototype.pathToSegments(a)};q.maps={};r.prototype.symbols.topbutton=function(a,b,g,l,h){h=h&&h.r||0;return u(a-
1,b-1,g,l,h,h,0,0)};r.prototype.symbols.bottombutton=function(a,b,g,l,h){h=h&&h.r||0;return u(a-1,b-1,g,l,0,0,h,h)};b===g&&["topbutton","bottombutton"].forEach(function(a){g.prototype.symbols[a]=r.prototype.symbols[a]});return{mapChart:q.Map=q.mapChart=function(b,g,k){var l="string"===typeof b||b.nodeName,h=arguments[l?1:0],m=h,p={endOnTick:!1,visible:!1,minPadding:0,maxPadding:0,startOnTick:!1},d=B().credits;var f=h.series;h.series=null;h=w({chart:{panning:{enabled:!0,type:"xy"},type:"map"},credits:{mapText:n(d.mapText,
' \u00a9 <a href="{geojson.copyrightUrl}">{geojson.copyrightShort}</a>'),mapTextFull:n(d.mapTextFull,"{geojson.copyright}")},tooltip:{followTouchMove:!1},xAxis:p,yAxis:w(p,{reversed:!0})},h,{chart:{inverted:!1,alignTicks:!1}});h.series=m.series=f;return l?new a(b,h,k):new a(h,g)},maps:q.maps,splitPath:k}});w(a,"Series/MapSeries.js",[a["Core/Globals.js"],a["Mixins/LegendSymbol.js"],a["Maps/Map.js"],a["Core/Series/Point.js"],a["Core/Renderer/SVG/SVGRenderer.js"],a["Core/Utilities.js"],a["Mixins/ColorMapSeries.js"]],
function(a,q,k,r,b,u,w){var y=k.maps,A=k.splitPath,n=u.extend,g=u.fireEvent,m=u.getNestedProperty,x=u.isArray,z=u.isNumber,l=u.merge,h=u.objectEach,v=u.pick;k=u.seriesType;var p=u.splat,d=w.colorMapPointMixin,f=a.noop,c=a.Series,C=a.seriesTypes;k("map","scatter",{animation:!1,dataLabels:{crop:!1,formatter:function(){return this.point.value},inside:!0,overflow:!1,padding:0,verticalAlign:"middle"},marker:null,nullColor:"#f7f7f7",stickyTracking:!1,tooltip:{followPointer:!0,pointFormat:"{point.name}: {point.value}<br/>"},
turboThreshold:0,allAreas:!0,borderColor:"#cccccc",borderWidth:1,joinBy:"hc-key",states:{hover:{halo:null,brightness:.2},normal:{animation:!0},select:{color:"#cccccc"},inactive:{opacity:1}}},l(w.colorMapSeriesMixin,{type:"map",getExtremesFromAll:!0,useMapGeometry:!0,forceDL:!0,searchPoint:f,directTouch:!0,preserveAspectRatio:!0,pointArrayMap:["value"],setOptions:function(a){a=c.prototype.setOptions.call(this,a);var e=a.joinBy;null===e&&(e="_i");e=this.joinBy=p(e);e[1]||(e[1]=e[0]);return a},getBox:function(a){var e=
Number.MAX_VALUE,c=-e,d=e,f=-e,h=e,p=e,l=this.xAxis,g=this.yAxis,m;(a||[]).forEach(function(a){if(a.path){"string"===typeof a.path?a.path=A(a.path):"M"===a.path[0]&&(a.path=b.prototype.pathToSegments(a.path));var t=a.path||[],l=-e,g=e,n=-e,k=e,r=a.properties;a._foundBox||(t.forEach(function(a){var e=a[a.length-2];a=a[a.length-1];"number"===typeof e&&"number"===typeof a&&(g=Math.min(g,e),l=Math.max(l,e),k=Math.min(k,a),n=Math.max(n,a))}),a._midX=g+(l-g)*v(a.middleX,r&&r["hc-middle-x"],.5),a._midY=
k+(n-k)*v(a.middleY,r&&r["hc-middle-y"],.5),a._maxX=l,a._minX=g,a._maxY=n,a._minY=k,a.labelrank=v(a.labelrank,(l-g)*(n-k)),a._foundBox=!0);c=Math.max(c,a._maxX);d=Math.min(d,a._minX);f=Math.max(f,a._maxY);h=Math.min(h,a._minY);p=Math.min(a._maxX-a._minX,a._maxY-a._minY,p);m=!0}});m&&(this.minY=Math.min(h,v(this.minY,e)),this.maxY=Math.max(f,v(this.maxY,-e)),this.minX=Math.min(d,v(this.minX,e)),this.maxX=Math.max(c,v(this.maxX,-e)),l&&"undefined"===typeof l.options.minRange&&(l.minRange=Math.min(5*
p,(this.maxX-this.minX)/5,l.minRange||e)),g&&"undefined"===typeof g.options.minRange&&(g.minRange=Math.min(5*p,(this.maxY-this.minY)/5,g.minRange||e)))},hasData:function(){return!!this.processedXData.length},getExtremes:function(){var a=c.prototype.getExtremes.call(this,this.valueData),d=a.dataMin;a=a.dataMax;this.chart.hasRendered&&this.isDirtyData&&this.getBox(this.options.data);z(d)&&(this.valueMin=d);z(a)&&(this.valueMax=a);return{dataMin:this.minY,dataMax:this.maxY}},translatePath:function(a){var e=
this.xAxis,c=this.yAxis,d=e.min,f=e.transA,b=e.minPixelPadding,h=c.min,p=c.transA,l=c.minPixelPadding,g=[];a&&a.forEach(function(a){"M"===a[0]?g.push(["M",(a[1]-(d||0))*f+b,(a[2]-(h||0))*p+l]):"L"===a[0]?g.push(["L",(a[1]-(d||0))*f+b,(a[2]-(h||0))*p+l]):"C"===a[0]?g.push(["C",(a[1]-(d||0))*f+b,(a[2]-(h||0))*p+l,(a[3]-(d||0))*f+b,(a[4]-(h||0))*p+l,(a[5]-(d||0))*f+b,(a[6]-(h||0))*p+l]):"Q"===a[0]?g.push(["Q",(a[1]-(d||0))*f+b,(a[2]-(h||0))*p+l,(a[3]-(d||0))*f+b,(a[4]-(h||0))*p+l]):"Z"===a[0]&&g.push(["Z"])});
return g},setData:function(e,d,f,b){var p=this.options,t=this.chart.options.chart,g=t&&t.map,n=p.mapData,k=this.joinBy,v=p.keys||this.pointArrayMap,q=[],C={},D=this.chart.mapTransforms;!n&&g&&(n="string"===typeof g?y[g]:g);e&&e.forEach(function(a,c){var d=0;if(z(a))e[c]={value:a};else if(x(a)){e[c]={};!p.keys&&a.length>v.length&&"string"===typeof a[0]&&(e[c]["hc-key"]=a[0],++d);for(var f=0;f<v.length;++f,++d)v[f]&&"undefined"!==typeof a[d]&&(0<v[f].indexOf(".")?r.prototype.setNestedProperty(e[c],
a[d],v[f]):e[c][v[f]]=a[d])}k&&"_i"===k[0]&&(e[c]._i=c)});this.getBox(e);(this.chart.mapTransforms=D=t&&t.mapTransforms||n&&n["hc-transform"]||D)&&h(D,function(a){a.rotation&&(a.cosAngle=Math.cos(a.rotation),a.sinAngle=Math.sin(a.rotation))});if(n){"FeatureCollection"===n.type&&(this.mapTitle=n.title,n=a.geojson(n,this.type,this));this.mapData=n;this.mapMap={};for(D=0;D<n.length;D++)t=n[D],g=t.properties,t._i=D,k[0]&&g&&g[k[0]]&&(t[k[0]]=g[k[0]]),C[t[k[0]]]=t;this.mapMap=C;if(e&&k[1]){var u=k[1];
e.forEach(function(a){a=m(u,a);C[a]&&q.push(C[a])})}if(p.allAreas){this.getBox(n);e=e||[];if(k[1]){var F=k[1];e.forEach(function(a){q.push(m(F,a))})}q="|"+q.map(function(a){return a&&a[k[0]]}).join("|")+"|";n.forEach(function(a){k[0]&&-1!==q.indexOf("|"+a[k[0]]+"|")||(e.push(l(a,{value:null})),b=!1)})}else this.getBox(q)}c.prototype.setData.call(this,e,d,f,b)},drawGraph:f,drawDataLabels:f,doFullTranslate:function(){return this.isDirtyData||this.chart.isResizing||this.chart.renderer.isVML||!this.baseTrans},
translate:function(){var a=this,c=a.xAxis,d=a.yAxis,f=a.doFullTranslate();a.generatePoints();a.data.forEach(function(e){z(e._midX)&&z(e._midY)&&(e.plotX=c.toPixels(e._midX,!0),e.plotY=d.toPixels(e._midY,!0));f&&(e.shapeType="path",e.shapeArgs={d:a.translatePath(e.path)})});g(a,"afterTranslate")},pointAttribs:function(a,c){c=a.series.chart.styledMode?this.colorAttribs(a):C.column.prototype.pointAttribs.call(this,a,c);c["stroke-width"]=v(a.options[this.pointAttrToOptions&&this.pointAttrToOptions["stroke-width"]||
"borderWidth"],"inherit");return c},drawPoints:function(){var a=this,c=a.xAxis,d=a.yAxis,f=a.group,b=a.chart,p=b.renderer,h=this.baseTrans;a.transformGroup||(a.transformGroup=p.g().attr({scaleX:1,scaleY:1}).add(f),a.transformGroup.survive=!0);if(a.doFullTranslate())b.hasRendered&&!b.styledMode&&a.points.forEach(function(c){c.shapeArgs&&(c.shapeArgs.fill=a.pointAttribs(c,c.state).fill)}),a.group=a.transformGroup,C.column.prototype.drawPoints.apply(a),a.group=f,a.points.forEach(function(c){if(c.graphic){var e=
"";c.name&&(e+="highcharts-name-"+c.name.replace(/ /g,"-").toLowerCase());c.properties&&c.properties["hc-key"]&&(e+=" highcharts-key-"+c.properties["hc-key"].toLowerCase());e&&c.graphic.addClass(e);b.styledMode&&c.graphic.css(a.pointAttribs(c,c.selected&&"select"||void 0))}}),this.baseTrans={originX:c.min-c.minPixelPadding/c.transA,originY:d.min-d.minPixelPadding/d.transA+(d.reversed?0:d.len/d.transA),transAX:c.transA,transAY:d.transA},this.transformGroup.animate({translateX:0,translateY:0,scaleX:1,
scaleY:1});else{var l=c.transA/h.transAX;var g=d.transA/h.transAY;var n=c.toPixels(h.originX,!0);var m=d.toPixels(h.originY,!0);.99<l&&1.01>l&&.99<g&&1.01>g&&(g=l=1,n=Math.round(n),m=Math.round(m));var k=this.transformGroup;if(b.renderer.globalAnimation){var r=k.attr("translateX");var q=k.attr("translateY");var u=k.attr("scaleX");var y=k.attr("scaleY");k.attr({animator:0}).animate({animator:1},{step:function(a,c){k.attr({translateX:r+(n-r)*c.pos,translateY:q+(m-q)*c.pos,scaleX:u+(l-u)*c.pos,scaleY:y+
(g-y)*c.pos})}})}else k.attr({translateX:n,translateY:m,scaleX:l,scaleY:g})}b.styledMode||f.element.setAttribute("stroke-width",v(a.options[a.pointAttrToOptions&&a.pointAttrToOptions["stroke-width"]||"borderWidth"],1)/(l||1));this.drawMapDataLabels()},drawMapDataLabels:function(){c.prototype.drawDataLabels.call(this);this.dataLabelsGroup&&this.dataLabelsGroup.clip(this.chart.clipRect)},render:function(){var a=this,d=c.prototype.render;a.chart.renderer.isVML&&3E3<a.data.length?setTimeout(function(){d.call(a)}):
d.call(a)},animate:function(a){var c=this.options.animation,d=this.group,e=this.xAxis,f=this.yAxis,b=e.pos,h=f.pos;this.chart.renderer.isSVG&&(!0===c&&(c={duration:1E3}),a?d.attr({translateX:b+e.len/2,translateY:h+f.len/2,scaleX:.001,scaleY:.001}):d.animate({translateX:b,translateY:h,scaleX:1,scaleY:1},c))},animateDrilldown:function(a){var c=this.chart.plotBox,d=this.chart.drilldownLevels[this.chart.drilldownLevels.length-1],e=d.bBox,f=this.chart.options.drilldown.animation;a||(a=Math.min(e.width/
c.width,e.height/c.height),d.shapeArgs={scaleX:a,scaleY:a,translateX:e.x,translateY:e.y},this.points.forEach(function(a){a.graphic&&a.graphic.attr(d.shapeArgs).animate({scaleX:1,scaleY:1,translateX:0,translateY:0},f)}))},drawLegendSymbol:q.drawRectangle,animateDrillupFrom:function(a){C.column.prototype.animateDrillupFrom.call(this,a)},animateDrillupTo:function(a){C.column.prototype.animateDrillupTo.call(this,a)}}),n({applyOptions:function(a,c){var d=this.series;a=r.prototype.applyOptions.call(this,
a,c);c=d.joinBy;d.mapData&&d.mapMap&&(c=r.prototype.getNestedProperty.call(a,c[1]),(c="undefined"!==typeof c&&d.mapMap[c])?(d.xyFromShape&&(a.x=c._midX,a.y=c._midY),n(a,c)):a.value=a.value||null);return a},onMouseOver:function(a){u.clearTimeout(this.colorInterval);if(null!==this.value||this.series.options.nullInteraction)r.prototype.onMouseOver.call(this,a);else this.series.onMouseOut(a)},zoomTo:function(){var a=this.series;a.xAxis.setExtremes(this._minX,this._maxX,!1);a.yAxis.setExtremes(this._minY,
this._maxY,!1);a.chart.redraw()}},d));""});w(a,"Series/MapLineSeries.js",[a["Core/Globals.js"],a["Core/Utilities.js"]],function(a,q){q=q.seriesType;var k=a.seriesTypes;q("mapline","map",{lineWidth:1,fillColor:"none"},{type:"mapline",colorProp:"stroke",pointAttrToOptions:{stroke:"color","stroke-width":"lineWidth"},pointAttribs:function(a,b){a=k.map.prototype.pointAttribs.call(this,a,b);a.fill=this.options.fillColor;return a},drawLegendSymbol:k.line.prototype.drawLegendSymbol});""});w(a,"Series/MapPointSeries.js",
[a["Core/Globals.js"]],function(a){var q=a.merge,k=a.Point,r=a.Series;a=a.seriesType;a("mappoint","scatter",{dataLabels:{crop:!1,defer:!1,enabled:!0,formatter:function(){return this.point.name},overflow:!1,style:{color:"#000000"}}},{type:"mappoint",forceDL:!0,drawDataLabels:function(){r.prototype.drawDataLabels.call(this);this.dataLabelsGroup&&this.dataLabelsGroup.clip(this.chart.clipRect)}},{applyOptions:function(a,r){a="undefined"!==typeof a.lat&&"undefined"!==typeof a.lon?q(a,this.series.chart.fromLatLonToPoint(a)):
a;return k.prototype.applyOptions.call(this,a,r)}});""});w(a,"Series/Bubble/BubbleLegend.js",[a["Core/Chart/Chart.js"],a["Core/Color.js"],a["Core/Globals.js"],a["Core/Legend.js"],a["Core/Utilities.js"]],function(a,q,k,r,b){var u=q.parse;q=b.addEvent;var y=b.arrayMax,w=b.arrayMin,A=b.isNumber,n=b.merge,g=b.objectEach,m=b.pick,x=b.setOptions,z=b.stableSort,l=b.wrap;"";var h=k.Series,v=k.noop;x({legend:{bubbleLegend:{borderColor:void 0,borderWidth:2,className:void 0,color:void 0,connectorClassName:void 0,
connectorColor:void 0,connectorDistance:60,connectorWidth:1,enabled:!1,labels:{className:void 0,allowOverlap:!1,format:"",formatter:void 0,align:"right",style:{fontSize:10,color:void 0},x:0,y:0},maxSize:60,minSize:10,legendIndex:0,ranges:{value:void 0,borderColor:void 0,color:void 0,connectorColor:void 0},sizeBy:"area",sizeByAbsoluteValue:!1,zIndex:1,zThreshold:0}}});x=function(){function a(a,f){this.options=this.symbols=this.visible=this.ranges=this.movementX=this.maxLabel=this.legendSymbol=this.legendItemWidth=
this.legendItemHeight=this.legendItem=this.legendGroup=this.legend=this.fontMetrics=this.chart=void 0;this.setState=v;this.init(a,f)}a.prototype.init=function(a,f){this.options=a;this.visible=!0;this.chart=f.chart;this.legend=f};a.prototype.addToLegend=function(a){a.splice(this.options.legendIndex,0,this)};a.prototype.drawLegendSymbol=function(a){var d=this.chart,c=this.options,b=m(a.options.itemDistance,20),e=c.ranges;var h=c.connectorDistance;this.fontMetrics=d.renderer.fontMetrics(c.labels.style.fontSize.toString()+
"px");e&&e.length&&A(e[0].value)?(z(e,function(a,c){return c.value-a.value}),this.ranges=e,this.setOptions(),this.render(),d=this.getMaxLabelSize(),e=this.ranges[0].radius,a=2*e,h=h-e+d.width,h=0<h?h:0,this.maxLabel=d,this.movementX="left"===c.labels.align?h:0,this.legendItemWidth=a+h+b,this.legendItemHeight=a+this.fontMetrics.h/2):a.options.bubbleLegend.autoRanges=!0};a.prototype.setOptions=function(){var a=this.ranges,f=this.options,c=this.chart.series[f.seriesIndex],b=this.legend.baseline,e={"z-index":f.zIndex,
"stroke-width":f.borderWidth},h={"z-index":f.zIndex,"stroke-width":f.connectorWidth},l=this.getLabelStyles(),p=c.options.marker.fillOpacity,g=this.chart.styledMode;a.forEach(function(d,t){g||(e.stroke=m(d.borderColor,f.borderColor,c.color),e.fill=m(d.color,f.color,1!==p?u(c.color).setOpacity(p).get("rgba"):c.color),h.stroke=m(d.connectorColor,f.connectorColor,c.color));a[t].radius=this.getRangeRadius(d.value);a[t]=n(a[t],{center:a[0].radius-a[t].radius+b});g||n(!0,a[t],{bubbleStyle:n(!1,e),connectorStyle:n(!1,
h),labelStyle:l})},this)};a.prototype.getLabelStyles=function(){var a=this.options,f={},c="left"===a.labels.align,b=this.legend.options.rtl;g(a.labels.style,function(a,c){"color"!==c&&"fontSize"!==c&&"z-index"!==c&&(f[c]=a)});return n(!1,f,{"font-size":a.labels.style.fontSize,fill:m(a.labels.style.color,"#000000"),"z-index":a.zIndex,align:b||c?"right":"left"})};a.prototype.getRangeRadius=function(a){var d=this.options;return this.chart.series[this.options.seriesIndex].getRadius.call(this,d.ranges[d.ranges.length-
1].value,d.ranges[0].value,d.minSize,d.maxSize,a)};a.prototype.render=function(){var a=this.chart.renderer,f=this.options.zThreshold;this.symbols||(this.symbols={connectors:[],bubbleItems:[],labels:[]});this.legendSymbol=a.g("bubble-legend");this.legendItem=a.g("bubble-legend-item");this.legendSymbol.translateX=0;this.legendSymbol.translateY=0;this.ranges.forEach(function(a){a.value>=f&&this.renderRange(a)},this);this.legendSymbol.add(this.legendItem);this.legendItem.add(this.legendGroup);this.hideOverlappingLabels()};
a.prototype.renderRange=function(a){var d=this.options,c=d.labels,b=this.chart.renderer,e=this.symbols,h=e.labels,l=a.center,p=Math.abs(a.radius),g=d.connectorDistance||0,n=c.align,m=c.style.fontSize;g=this.legend.options.rtl||"left"===n?-g:g;c=d.connectorWidth;var k=this.ranges[0].radius||0,v=l-p-d.borderWidth/2+c/2;m=m/2-(this.fontMetrics.h-m)/2;var q=b.styledMode;"center"===n&&(g=0,d.connectorDistance=0,a.labelStyle.align="center");n=v+d.labels.y;var r=k+g+d.labels.x;e.bubbleItems.push(b.circle(k,
l+((v%1?1:.5)-(c%2?0:.5)),p).attr(q?{}:a.bubbleStyle).addClass((q?"highcharts-color-"+this.options.seriesIndex+" ":"")+"highcharts-bubble-legend-symbol "+(d.className||"")).add(this.legendSymbol));e.connectors.push(b.path(b.crispLine([["M",k,v],["L",k+g,v]],d.connectorWidth)).attr(q?{}:a.connectorStyle).addClass((q?"highcharts-color-"+this.options.seriesIndex+" ":"")+"highcharts-bubble-legend-connectors "+(d.connectorClassName||"")).add(this.legendSymbol));a=b.text(this.formatLabel(a),r,n+m).attr(q?
{}:a.labelStyle).addClass("highcharts-bubble-legend-labels "+(d.labels.className||"")).add(this.legendSymbol);h.push(a);a.placed=!0;a.alignAttr={x:r,y:n+m}};a.prototype.getMaxLabelSize=function(){var a,f;this.symbols.labels.forEach(function(c){f=c.getBBox(!0);a=a?f.width>a.width?f:a:f});return a||{}};a.prototype.formatLabel=function(a){var d=this.options,c=d.labels.formatter;d=d.labels.format;var h=this.chart.numberFormatter;return d?b.format(d,a):c?c.call(a):h(a.value,1)};a.prototype.hideOverlappingLabels=
function(){var a=this.chart,f=this.symbols;!this.options.labels.allowOverlap&&f&&(a.hideOverlappingLabels(f.labels),f.labels.forEach(function(a,d){a.newOpacity?a.newOpacity!==a.oldOpacity&&f.connectors[d].show():f.connectors[d].hide()}))};a.prototype.getRanges=function(){var a=this.legend.bubbleLegend,f=a.options.ranges,c,b=Number.MAX_VALUE,e=-Number.MAX_VALUE;a.chart.series.forEach(function(a){a.isBubble&&!a.ignoreSeries&&(c=a.zData.filter(A),c.length&&(b=m(a.options.zMin,Math.min(b,Math.max(w(c),
!1===a.options.displayNegative?a.options.zThreshold:-Number.MAX_VALUE))),e=m(a.options.zMax,Math.max(e,y(c)))))});var h=b===e?[{value:e}]:[{value:b},{value:(b+e)/2},{value:e,autoRanges:!0}];f.length&&f[0].radius&&h.reverse();h.forEach(function(a,c){f&&f[c]&&(h[c]=n(!1,f[c],a))});return h};a.prototype.predictBubbleSizes=function(){var a=this.chart,f=this.fontMetrics,c=a.legend.options,b="horizontal"===c.layout,e=b?a.legend.lastLineHeight:0,h=a.plotSizeX,g=a.plotSizeY,l=a.series[this.options.seriesIndex];
a=Math.ceil(l.minPxSize);var p=Math.ceil(l.maxPxSize);l=l.options.maxSize;var n=Math.min(g,h);if(c.floating||!/%$/.test(l))f=p;else if(l=parseFloat(l),f=(n+e-f.h/2)*l/100/(l/100+1),b&&g-f>=h||!b&&h-f>=g)f=p;return[a,Math.ceil(f)]};a.prototype.updateRanges=function(a,f){var c=this.legend.options.bubbleLegend;c.minSize=a;c.maxSize=f;c.ranges=this.getRanges()};a.prototype.correctSizes=function(){var a=this.legend,f=this.chart.series[this.options.seriesIndex];1<Math.abs(Math.ceil(f.maxPxSize)-this.options.maxSize)&&
(this.updateRanges(this.options.minSize,f.maxPxSize),a.render())};return a}();q(r,"afterGetAllItems",function(a){var d=this.bubbleLegend,f=this.options,c=f.bubbleLegend,b=this.chart.getVisibleBubbleSeriesIndex();d&&d.ranges&&d.ranges.length&&(c.ranges.length&&(c.autoRanges=!!c.ranges[0].autoRanges),this.destroyItem(d));0<=b&&f.enabled&&c.enabled&&(c.seriesIndex=b,this.bubbleLegend=new k.BubbleLegend(c,this),this.bubbleLegend.addToLegend(a.allItems))});a.prototype.getVisibleBubbleSeriesIndex=function(){for(var a=
this.series,d=0;d<a.length;){if(a[d]&&a[d].isBubble&&a[d].visible&&a[d].zData.length)return d;d++}return-1};r.prototype.getLinesHeights=function(){var a=this.allItems,d=[],f=a.length,c,b=0;for(c=0;c<f;c++)if(a[c].legendItemHeight&&(a[c].itemHeight=a[c].legendItemHeight),a[c]===a[f-1]||a[c+1]&&a[c]._legendItemPos[1]!==a[c+1]._legendItemPos[1]){d.push({height:0});var e=d[d.length-1];for(b;b<=c;b++)a[b].itemHeight>e.height&&(e.height=a[b].itemHeight);e.step=c}return d};r.prototype.retranslateItems=function(a){var d,
f,c,b=this.options.rtl,e=0;this.allItems.forEach(function(h,l){d=h.legendGroup.translateX;f=h._legendItemPos[1];if((c=h.movementX)||b&&h.ranges)c=b?d-h.options.maxSize/2:d+c,h.legendGroup.attr({translateX:c});l>a[e].step&&e++;h.legendGroup.attr({translateY:Math.round(f+a[e].height/2)});h._legendItemPos[1]=f+a[e].height/2})};q(h,"legendItemClick",function(){var a=this.chart,d=this.visible,f=this.chart.legend;f&&f.bubbleLegend&&(this.visible=!d,this.ignoreSeries=d,a=0<=a.getVisibleBubbleSeriesIndex(),
f.bubbleLegend.visible!==a&&(f.update({bubbleLegend:{enabled:a}}),f.bubbleLegend.visible=a),this.visible=d)});l(a.prototype,"drawChartBox",function(a,d,f){var c=this.legend,b=0<=this.getVisibleBubbleSeriesIndex();if(c&&c.options.enabled&&c.bubbleLegend&&c.options.bubbleLegend.autoRanges&&b){var e=c.bubbleLegend.options;b=c.bubbleLegend.predictBubbleSizes();c.bubbleLegend.updateRanges(b[0],b[1]);e.placed||(c.group.placed=!1,c.allItems.forEach(function(a){a.legendGroup.translateY=null}));c.render();
this.getMargins();this.axes.forEach(function(a){a.visible&&a.render();e.placed||(a.setScale(),a.updateNames(),g(a.ticks,function(a){a.isNew=!0;a.isNewLabel=!0}))});e.placed=!0;this.getMargins();a.call(this,d,f);c.bubbleLegend.correctSizes();c.retranslateItems(c.getLinesHeights())}else a.call(this,d,f),c&&c.options.enabled&&c.bubbleLegend&&(c.render(),c.retranslateItems(c.getLinesHeights()))});k.BubbleLegend=x;return k.BubbleLegend});w(a,"Series/Bubble/BubbleSeries.js",[a["Core/Globals.js"],a["Core/Color.js"],
a["Core/Series/Point.js"],a["Core/Utilities.js"]],function(a,q,k,r){var b=q.parse,u=r.arrayMax,y=r.arrayMin,w=r.clamp,A=r.extend,n=r.isNumber,g=r.pick,m=r.pInt;q=r.seriesType;r=a.Axis;var x=a.noop,z=a.Series,l=a.seriesTypes;q("bubble","scatter",{dataLabels:{formatter:function(){return this.point.z},inside:!0,verticalAlign:"middle"},animationLimit:250,marker:{lineColor:null,lineWidth:1,fillOpacity:.5,radius:null,states:{hover:{radiusPlus:0}},symbol:"circle"},minSize:8,maxSize:"20%",softThreshold:!1,
states:{hover:{halo:{size:5}}},tooltip:{pointFormat:"({point.x}, {point.y}), Size: {point.z}"},turboThreshold:0,zThreshold:0,zoneAxis:"z"},{pointArrayMap:["y","z"],parallelArrays:["x","y","z"],trackerGroups:["group","dataLabelsGroup"],specialGroup:"group",bubblePadding:!0,zoneAxis:"z",directTouch:!0,isBubble:!0,pointAttribs:function(a,l){var h=this.options.marker.fillOpacity;a=z.prototype.pointAttribs.call(this,a,l);1!==h&&(a.fill=b(a.fill).setOpacity(h).get("rgba"));return a},getRadii:function(a,
b,l){var d=this.zData,f=this.yData,c=l.minPxSize,h=l.maxPxSize,e=[];var g=0;for(l=d.length;g<l;g++){var n=d[g];e.push(this.getRadius(a,b,c,h,n,f[g]))}this.radii=e},getRadius:function(a,b,l,d,f,c){var h=this.options,e="width"!==h.sizeBy,g=h.zThreshold,p=b-a,m=.5;if(null===c||null===f)return null;if(n(f)){h.sizeByAbsoluteValue&&(f=Math.abs(f-g),p=Math.max(b-g,Math.abs(a-g)),a=0);if(f<a)return l/2-1;0<p&&(m=(f-a)/p)}e&&0<=m&&(m=Math.sqrt(m));return Math.ceil(l+m*(d-l))/2},animate:function(a){!a&&this.points.length<
this.options.animationLimit&&this.points.forEach(function(a){var b=a.graphic;b&&b.width&&(this.hasRendered||b.attr({x:a.plotX,y:a.plotY,width:1,height:1}),b.animate(this.markerAttribs(a),this.options.animation))},this)},hasData:function(){return!!this.processedXData.length},translate:function(){var a,b=this.data,g=this.radii;l.scatter.prototype.translate.call(this);for(a=b.length;a--;){var d=b[a];var f=g?g[a]:0;n(f)&&f>=this.minPxSize/2?(d.marker=A(d.marker,{radius:f,width:2*f,height:2*f}),d.dlBox=
{x:d.plotX-f,y:d.plotY-f,width:2*f,height:2*f}):d.shapeArgs=d.plotY=d.dlBox=void 0}},alignDataLabel:l.column.prototype.alignDataLabel,buildKDTree:x,applyZones:x},{haloPath:function(a){return k.prototype.haloPath.call(this,0===a?0:(this.marker?this.marker.radius||0:0)+a)},ttBelow:!1});r.prototype.beforePadding=function(){var a=this,b=this.len,l=this.chart,d=0,f=b,c=this.isXAxis,k=c?"xData":"yData",e=this.min,q={},r=Math.min(l.plotWidth,l.plotHeight),x=Number.MAX_VALUE,z=-Number.MAX_VALUE,B=this.max-
e,A=b/B,E=[];this.series.forEach(function(d){var e=d.options;!d.bubblePadding||!d.visible&&l.options.chart.ignoreHiddenSeries||(a.allowZoomOutside=!0,E.push(d),c&&(["minSize","maxSize"].forEach(function(a){var c=e[a],d=/%$/.test(c);c=m(c);q[a]=d?r*c/100:c}),d.minPxSize=q.minSize,d.maxPxSize=Math.max(q.maxSize,q.minSize),d=d.zData.filter(n),d.length&&(x=g(e.zMin,w(y(d),!1===e.displayNegative?e.zThreshold:-Number.MAX_VALUE,x)),z=g(e.zMax,Math.max(z,u(d))))))});E.forEach(function(b){var l=b[k],h=l.length;
c&&b.getRadii(x,z,b);if(0<B)for(;h--;)if(n(l[h])&&a.dataMin<=l[h]&&l[h]<=a.max){var g=b.radii?b.radii[h]:0;d=Math.min((l[h]-e)*A-g,d);f=Math.max((l[h]-e)*A+g,f)}});E.length&&0<B&&!this.logarithmic&&(f-=b,A*=(b+Math.max(0,d)-Math.min(f,b))/b,[["min","userMin",d],["max","userMax",f]].forEach(function(c){"undefined"===typeof g(a.options[c[0]],a[c[1]])&&(a[c[0]]+=c[2]/A)}))};""});w(a,"Series/MapBubbleSeries.js",[a["Core/Globals.js"],a["Core/Series/Point.js"],a["Core/Utilities.js"]],function(a,q,k){var r=
k.merge;k=k.seriesType;var b=a.seriesTypes;b.bubble&&k("mapbubble","bubble",{animationLimit:500,tooltip:{pointFormat:"{point.name}: {point.z}"}},{xyFromShape:!0,type:"mapbubble",pointArrayMap:["z"],getMapData:b.map.prototype.getMapData,getBox:b.map.prototype.getBox,setData:b.map.prototype.setData,setOptions:b.map.prototype.setOptions},{applyOptions:function(a,k){return a&&"undefined"!==typeof a.lat&&"undefined"!==typeof a.lon?q.prototype.applyOptions.call(this,r(a,this.series.chart.fromLatLonToPoint(a)),
k):b.map.prototype.pointClass.prototype.applyOptions.call(this,a,k)},isValid:function(){return"number"===typeof this.z},ttBelow:!1});""});w(a,"Series/HeatmapSeries.js",[a["Core/Globals.js"],a["Mixins/LegendSymbol.js"],a["Core/Renderer/SVG/SVGRenderer.js"],a["Core/Utilities.js"],a["Mixins/ColorMapSeries.js"]],function(a,q,k,r,b){var u=r.clamp,w=r.extend,y=r.fireEvent,A=r.isNumber,n=r.merge,g=r.pick;r=r.seriesType;"";var m=b.colorMapPointMixin,x=a.Series,z=k.prototype.symbols;r("heatmap","scatter",
{animation:!1,borderWidth:0,nullColor:"#f7f7f7",dataLabels:{formatter:function(){return this.point.value},inside:!0,verticalAlign:"middle",crop:!1,overflow:!1,padding:0},marker:{symbol:"rect",radius:0,lineColor:void 0,states:{hover:{lineWidthPlus:0},select:{}}},clip:!0,pointRange:null,tooltip:{pointFormat:"{point.x}, {point.y}: {point.value}<br/>"},states:{hover:{halo:!1,brightness:.2}}},n(b.colorMapSeriesMixin,{pointArrayMap:["y","value"],hasPointSpecificOptions:!0,getExtremesFromAll:!0,directTouch:!0,
init:function(){x.prototype.init.apply(this,arguments);var a=this.options;a.pointRange=g(a.pointRange,a.colsize||1);this.yAxis.axisPointRange=a.rowsize||1;w(z,{ellipse:z.circle,rect:z.square})},getSymbol:x.prototype.getSymbol,setClip:function(a){var b=this.chart;x.prototype.setClip.apply(this,arguments);(!1!==this.options.clip||a)&&this.markerGroup.clip((a||this.clipBox)&&this.sharedClipKey?b[this.sharedClipKey]:b.clipRect)},translate:function(){var a=this.options,b=a.marker&&a.marker.symbol||"",
g=z[b]?b:"rect";a=this.options;var m=-1!==["circle","square"].indexOf(g);this.generatePoints();this.points.forEach(function(a){var d=a.getCellAttributes(),c={x:Math.min(d.x1,d.x2),y:Math.min(d.y1,d.y2),width:Math.max(Math.abs(d.x2-d.x1),0),height:Math.max(Math.abs(d.y2-d.y1),0)};var h=a.hasImage=0===(a.marker&&a.marker.symbol||b||"").indexOf("url");if(m){var e=Math.abs(c.width-c.height);c.x=Math.min(d.x1,d.x2)+(c.width<c.height?0:e/2);c.y=Math.min(d.y1,d.y2)+(c.width<c.height?e/2:0);c.width=c.height=
Math.min(c.width,c.height)}e={plotX:(d.x1+d.x2)/2,plotY:(d.y1+d.y2)/2,clientX:(d.x1+d.x2)/2,shapeType:"path",shapeArgs:n(!0,c,{d:z[g](c.x,c.y,c.width,c.height)})};h&&(a.marker={width:c.width,height:c.height});w(a,e)});y(this,"afterTranslate")},pointAttribs:function(b,h){var g=x.prototype.pointAttribs.call(this,b,h),l=this.options||{},d=this.chart.options.plotOptions||{},f=d.series||{},c=d.heatmap||{};d=l.borderColor||c.borderColor||f.borderColor;f=l.borderWidth||c.borderWidth||f.borderWidth||g["stroke-width"];
g.stroke=b&&b.marker&&b.marker.lineColor||l.marker&&l.marker.lineColor||d||this.color;g["stroke-width"]=f;h&&(b=n(l.states[h],l.marker&&l.marker.states[h],b.options.states&&b.options.states[h]||{}),h=b.brightness,g.fill=b.color||a.color(g.fill).brighten(h||0).get(),g.stroke=b.lineColor);return g},markerAttribs:function(a,b){var g=a.marker||{},h=this.options.marker||{},d=a.shapeArgs||{},f={};if(a.hasImage)return{x:a.plotX,y:a.plotY};if(b){var c=h.states[b]||{};var l=g.states&&g.states[b]||{};[["width",
"x"],["height","y"]].forEach(function(a){f[a[0]]=(l[a[0]]||c[a[0]]||d[a[0]])+(l[a[0]+"Plus"]||c[a[0]+"Plus"]||0);f[a[1]]=d[a[1]]+(d[a[0]]-f[a[0]])/2})}return b?f:d},drawPoints:function(){var a=this;if((this.options.marker||{}).enabled||this._hasPointMarkers)x.prototype.drawPoints.call(this),this.points.forEach(function(b){b.graphic&&b.graphic[a.chart.styledMode?"css":"animate"](a.colorAttribs(b))})},hasData:function(){return!!this.processedXData.length},getValidPoints:function(a,b){return x.prototype.getValidPoints.call(this,
a,b,!0)},getBox:a.noop,drawLegendSymbol:q.drawRectangle,alignDataLabel:a.seriesTypes.column.prototype.alignDataLabel,getExtremes:function(){var a=x.prototype.getExtremes.call(this,this.valueData),b=a.dataMin;a=a.dataMax;A(b)&&(this.valueMin=b);A(a)&&(this.valueMax=a);return x.prototype.getExtremes.call(this)}}),n(m,{applyOptions:function(b,g){b=a.Point.prototype.applyOptions.call(this,b,g);b.formatPrefix=b.isNull||null===b.value?"null":"point";return b},isValid:function(){return Infinity!==this.value&&
-Infinity!==this.value},haloPath:function(a){if(!a)return[];var b=this.shapeArgs;return["M",b.x-a,b.y-a,"L",b.x-a,b.y+b.height+a,b.x+b.width+a,b.y+b.height+a,b.x+b.width+a,b.y-a,"Z"]},getCellAttributes:function(){var a=this.series,b=a.options,n=(b.colsize||1)/2,m=(b.rowsize||1)/2,d=a.xAxis,f=a.yAxis,c=this.options.marker||a.options.marker;a=a.pointPlacementToXValue();var k=g(this.pointPadding,b.pointPadding,0),e={x1:u(Math.round(d.len-(d.translate(this.x-n,!1,!0,!1,!0,-a)||0)),-d.len,2*d.len),x2:u(Math.round(d.len-
(d.translate(this.x+n,!1,!0,!1,!0,-a)||0)),-d.len,2*d.len),y1:u(Math.round(f.translate(this.y-m,!1,!0,!1,!0)||0),-f.len,2*f.len),y2:u(Math.round(f.translate(this.y+m,!1,!0,!1,!0)||0),-f.len,2*f.len)};[["width","x"],["height","y"]].forEach(function(a){var b=a[0];a=a[1];var d=a+"1",f=a+"2",g=Math.abs(e[d]-e[f]),h=c&&c.lineWidth||0,l=Math.abs(e[d]+e[f])/2;c[b]&&c[b]<g&&(e[d]=l-c[b]/2-h/2,e[f]=l+c[b]/2+h/2);k&&("y"===a&&(d=f,f=a+"1"),e[d]+=k,e[f]-=k)});return e}}));""});w(a,"Extensions/GeoJSON.js",[a["Core/Chart/Chart.js"],
a["Core/Globals.js"],a["Core/Utilities.js"]],function(a,q,k){function r(a,b){var g,n=!1,k=a.x,l=a.y;a=0;for(g=b.length-1;a<b.length;g=a++){var h=b[a][1]>l;var q=b[g][1]>l;h!==q&&k<(b[g][0]-b[a][0])*(l-b[a][1])/(b[g][1]-b[a][1])+b[a][0]&&(n=!n)}return n}var b=q.win,u=k.error,w=k.extend,y=k.format,A=k.merge;k=k.wrap;"";a.prototype.transformFromLatLon=function(a,g){var m,k=(null===(m=this.userOptions.chart)||void 0===m?void 0:m.proj4)||b.proj4;if(!k)return u(21,!1,this),{x:0,y:null};a=k(g.crs,[a.lon,
a.lat]);m=g.cosAngle||g.rotation&&Math.cos(g.rotation);k=g.sinAngle||g.rotation&&Math.sin(g.rotation);a=g.rotation?[a[0]*m+a[1]*k,-a[0]*k+a[1]*m]:a;return{x:((a[0]-(g.xoffset||0))*(g.scale||1)+(g.xpan||0))*(g.jsonres||1)+(g.jsonmarginX||0),y:(((g.yoffset||0)-a[1])*(g.scale||1)+(g.ypan||0))*(g.jsonres||1)-(g.jsonmarginY||0)}};a.prototype.transformToLatLon=function(a,g){if("undefined"===typeof b.proj4)u(21,!1,this);else{a={x:((a.x-(g.jsonmarginX||0))/(g.jsonres||1)-(g.xpan||0))/(g.scale||1)+(g.xoffset||
0),y:((-a.y-(g.jsonmarginY||0))/(g.jsonres||1)+(g.ypan||0))/(g.scale||1)+(g.yoffset||0)};var k=g.cosAngle||g.rotation&&Math.cos(g.rotation),n=g.sinAngle||g.rotation&&Math.sin(g.rotation);g=b.proj4(g.crs,"WGS84",g.rotation?{x:a.x*k+a.y*-n,y:a.x*n+a.y*k}:a);return{lat:g.y,lon:g.x}}};a.prototype.fromPointToLatLon=function(a){var b=this.mapTransforms,k;if(b){for(k in b)if(Object.hasOwnProperty.call(b,k)&&b[k].hitZone&&r({x:a.x,y:-a.y},b[k].hitZone.coordinates[0]))return this.transformToLatLon(a,b[k]);
return this.transformToLatLon(a,b["default"])}u(22,!1,this)};a.prototype.fromLatLonToPoint=function(a){var b=this.mapTransforms,k;if(!b)return u(22,!1,this),{x:0,y:null};for(k in b)if(Object.hasOwnProperty.call(b,k)&&b[k].hitZone){var n=this.transformFromLatLon(a,b[k]);if(r({x:n.x,y:-n.y},b[k].hitZone.coordinates[0]))return n}return this.transformFromLatLon(a,b["default"])};q.geojson=function(a,b,k){var g=[],m=[],l=function(a){a.forEach(function(a,b){0===b?m.push(["M",a[0],-a[1]]):m.push(["L",a[0],
-a[1]])})};b=b||"map";a.features.forEach(function(a){var h=a.geometry,k=h.type;h=h.coordinates;a=a.properties;var d;m=[];"map"===b||"mapbubble"===b?("Polygon"===k?(h.forEach(l),m.push(["Z"])):"MultiPolygon"===k&&(h.forEach(function(a){a.forEach(l)}),m.push(["Z"])),m.length&&(d={path:m})):"mapline"===b?("LineString"===k?l(h):"MultiLineString"===k&&h.forEach(l),m.length&&(d={path:m})):"mappoint"===b&&"Point"===k&&(d={x:h[0],y:-h[1]});d&&g.push(w(d,{name:a.name||a.NAME,properties:a}))});k&&a.copyrightShort&&
(k.chart.mapCredits=y(k.chart.options.credits.mapText,{geojson:a}),k.chart.mapCreditsFull=y(k.chart.options.credits.mapTextFull,{geojson:a}));return g};k(a.prototype,"addCredits",function(a,b){b=A(!0,this.options.credits,b);this.mapCredits&&(b.href=null);a.call(this,b);this.credits&&this.mapCreditsFull&&this.credits.attr({title:this.mapCreditsFull})})});w(a,"masters/modules/map.src.js",[],function(){})});
//# sourceMappingURL=map.js.map