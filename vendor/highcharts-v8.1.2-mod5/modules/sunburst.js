/*
 Highcharts JS v8.2.0 (2020-08-27)

 (c) 2016-2019 Highsoft AS
 Authors: Jon Arild Nygard

 License: www.highcharts.com/license
*/
(function(b){"object"===typeof module&&module.exports?(b["default"]=b,module.exports=b):"function"===typeof define&&define.amd?define("highcharts/modules/sunburst",["highcharts"],function(u){b(u);b.Highcharts=u;return b}):b("undefined"!==typeof Highcharts?Highcharts:void 0)})(function(b){function u(b,d,t,L){b.hasOwnProperty(d)||(b[d]=L.apply(null,t))}b=b?b._modules:{};u(b,"Mixins/DrawPoint.js",[],function(){var b=function(b){return"function"===typeof b},d=function(t){var d,v=this,n=v.graphic,w=t.animatableAttribs,
g=t.onComplete,r=t.css,k=t.renderer,J=null===(d=v.series)||void 0===d?void 0:d.options.animation;if(v.shouldDraw())n||(v.graphic=n=k[t.shapeType](t.shapeArgs).add(t.group)),n.css(r).attr(t.attribs).animate(w,t.isNew?!1:J,g);else if(n){var G=function(){v.graphic=n=n.destroy();b(g)&&g()};Object.keys(w).length?n.animate(w,void 0,function(){G()}):G()}};return{draw:d,drawPoint:function(b){(b.attribs=b.attribs||{})["class"]=this.getClassName();d.call(this,b)},isFn:b}});u(b,"Mixins/TreeSeries.js",[b["Core/Color.js"],
b["Core/Utilities.js"]],function(b,d){var t=d.extend,w=d.isArray,v=d.isNumber,n=d.isObject,u=d.merge,g=d.pick;return{getColor:function(r,k){var d=k.index,t=k.mapOptionsToLevel,n=k.parentColor,v=k.parentColorIndex,w=k.series,y=k.colors,M=k.siblings,q=w.points,u=w.chart.options.chart,D;if(r){q=q[r.i];r=t[r.level]||{};if(t=q&&r.colorByPoint){var I=q.index%(y?y.length:u.colorCount);var O=y&&y[I]}if(!w.chart.styledMode){y=q&&q.options.color;u=r&&r.color;if(D=n)D=(D=r&&r.colorVariation)&&"brightness"===
D.key?b.parse(n).brighten(d/M*D.to).get():n;D=g(y,u,O,D,w.color)}var E=g(q&&q.options.colorIndex,r&&r.colorIndex,I,v,k.colorIndex)}return{color:D,colorIndex:E}},getLevelOptions:function(b){var k=null;if(n(b)){k={};var d=v(b.from)?b.from:1;var g=b.levels;var r={};var H=n(b.defaults)?b.defaults:{};w(g)&&(r=g.reduce(function(b,k){if(n(k)&&v(k.level)){var g=u({},k);var r="boolean"===typeof g.levelIsConstant?g.levelIsConstant:H.levelIsConstant;delete g.levelIsConstant;delete g.level;k=k.level+(r?0:d-1);
n(b[k])?t(b[k],g):b[k]=g}return b},{}));g=v(b.to)?b.to:1;for(b=0;b<=g;b++)k[b]=u({},H,n(r[b])?r[b]:{})}return k},setTreeValues:function G(b,d){var k=d.before,n=d.idRoot,v=d.mapIdToNode[n],w=d.points[b.i],u=w&&w.options||{},q=0,J=[];t(b,{levelDynamic:b.level-(("boolean"===typeof d.levelIsConstant?d.levelIsConstant:1)?0:v.level),name:g(w&&w.name,""),visible:n===b.id||("boolean"===typeof d.visible?d.visible:!1)});"function"===typeof k&&(b=k(b,d));b.children.forEach(function(k,g){var n=t({},d);t(n,{index:g,
siblings:b.children.length,visible:b.visible});k=G(k,n);J.push(k);k.visible&&(q+=k.val)});b.visible=0<q||b.visible;k=g(u.value,q);t(b,{children:J,childrenTotal:q,isLeaf:b.visible&&!q,val:k});return b},updateRootId:function(b){if(n(b)){var d=n(b.options)?b.options:{};d=g(b.rootNode,d.rootId,"");n(b.userOptions)&&(b.userOptions.rootId=d);b.rootNode=d}return d}}});u(b,"Mixins/ColorMapSeries.js",[b["Core/Globals.js"],b["Core/Series/Point.js"],b["Core/Utilities.js"]],function(b,d,t){var w=t.defined;return{colorMapPointMixin:{dataLabelOnNull:!0,
isValid:function(){return null!==this.value&&Infinity!==this.value&&-Infinity!==this.value},setState:function(b){d.prototype.setState.call(this,b);this.graphic&&this.graphic.attr({zIndex:"hover"===b?1:0})}},colorMapSeriesMixin:{pointArrayMap:["value"],axisTypes:["xAxis","yAxis","colorAxis"],trackerGroups:["group","markerGroup","dataLabelsGroup"],getSymbol:b.noop,parallelArrays:["x","y","value"],colorKey:"value",pointAttribs:b.seriesTypes.column.prototype.pointAttribs,colorAttribs:function(b){var d=
{};w(b.color)&&(d[this.colorProp||"fill"]=b.color);return d}}}});u(b,"Series/TreemapSeries.js",[b["Core/Globals.js"],b["Mixins/ColorMapSeries.js"],b["Mixins/TreeSeries.js"],b["Mixins/DrawPoint.js"],b["Core/Color.js"],b["Mixins/LegendSymbol.js"],b["Core/Series/Point.js"],b["Core/Utilities.js"]],function(b,d,t,u,v,n,T,g){var r=d.colorMapSeriesMixin,k=t.getColor,w=t.getLevelOptions,G=t.updateRootId,Q=v.parse,H=g.addEvent,L=g.correctFloat,y=g.defined,M=g.error,q=g.extend,N=g.fireEvent,D=g.isArray,I=g.isNumber,
O=g.isObject,E=g.isString,A=g.merge,R=g.objectEach,B=g.pick;d=g.seriesType;var S=g.stableSort,e=b.seriesTypes;g=b.noop;var h=b.Series,m=function(a,c,f){f=f||this;R(a,function(l,p){c.call(f,l,p,a)})},C=function(a,c,f){f=f||this;a=c.call(f,a);!1!==a&&C(a,c,f)},F=!1;d("treemap","scatter",{allowTraversingTree:!1,animationLimit:250,showInLegend:!1,marker:!1,colorByPoint:!1,dataLabels:{defer:!1,enabled:!0,formatter:function(){var a=this&&this.point?this.point:{};return E(a.name)?a.name:""},inside:!0,verticalAlign:"middle"},
tooltip:{headerFormat:"",pointFormat:"<b>{point.name}</b>: {point.value}<br/>"},ignoreHiddenPoint:!0,layoutAlgorithm:"sliceAndDice",layoutStartingDirection:"vertical",alternateStartingDirection:!1,levelIsConstant:!0,drillUpButton:{position:{align:"right",x:-10,y:10}},traverseUpButton:{position:{align:"right",x:-10,y:10}},borderColor:"#e6e6e6",borderWidth:1,colorKey:"colorValue",opacity:.15,states:{hover:{borderColor:"#999999",brightness:e.heatmap?0:.1,halo:!1,opacity:.75,shadow:!1}}},{pointArrayMap:["value"],
directTouch:!0,optionalAxis:"colorAxis",getSymbol:g,parallelArrays:["x","y","value","colorValue"],colorKey:"colorValue",trackerGroups:["group","dataLabelsGroup"],getListOfParents:function(a,c){a=D(a)?a:[];var f=D(c)?c:[];c=a.reduce(function(a,c,f){c=B(c.parent,"");"undefined"===typeof a[c]&&(a[c]=[]);a[c].push(f);return a},{"":[]});m(c,function(a,c,b){""!==c&&-1===f.indexOf(c)&&(a.forEach(function(a){b[""].push(a)}),delete b[c])});return c},getTree:function(){var a=this.data.map(function(a){return a.id});
a=this.getListOfParents(this.data,a);this.nodeMap=[];return this.buildNode("",-1,0,a,null)},hasData:function(){return!!this.processedXData.length},init:function(a,c){r&&(this.colorAttribs=r.colorAttribs);var f=H(this,"setOptions",function(a){a=a.userOptions;y(a.allowDrillToNode)&&!y(a.allowTraversingTree)&&(a.allowTraversingTree=a.allowDrillToNode,delete a.allowDrillToNode);y(a.drillUpButton)&&!y(a.traverseUpButton)&&(a.traverseUpButton=a.drillUpButton,delete a.drillUpButton)});h.prototype.init.call(this,
a,c);delete this.opacity;this.eventsToUnbind.push(f);this.options.allowTraversingTree&&this.eventsToUnbind.push(H(this,"click",this.onClickDrillToNode))},buildNode:function(a,c,f,b,p){var e=this,l=[],h=e.points[c],d=0,z;(b[a]||[]).forEach(function(c){z=e.buildNode(e.points[c].id,c,f+1,b,a);d=Math.max(z.height+1,d);l.push(z)});c={id:a,i:c,children:l,height:d,level:f,parent:p,visible:!1};e.nodeMap[c.id]=c;h&&(h.node=c);return c},setTreeValues:function(a){var c=this,f=c.options,b=c.nodeMap[c.rootNode];
f="boolean"===typeof f.levelIsConstant?f.levelIsConstant:!0;var p=0,e=[],h=c.points[a.i];a.children.forEach(function(a){a=c.setTreeValues(a);e.push(a);a.ignore||(p+=a.val)});S(e,function(a,c){return a.sortIndex-c.sortIndex});var d=B(h&&h.options.value,p);h&&(h.value=d);q(a,{children:e,childrenTotal:p,ignore:!(B(h&&h.visible,!0)&&0<d),isLeaf:a.visible&&!p,levelDynamic:a.level-(f?0:b.level),name:B(h&&h.name,""),sortIndex:B(h&&h.sortIndex,-d),val:d});return a},calculateChildrenAreas:function(a,c){var f=
this,b=f.options,p=f.mapOptionsToLevel[a.level+1],e=B(f[p&&p.layoutAlgorithm]&&p.layoutAlgorithm,b.layoutAlgorithm),h=b.alternateStartingDirection,d=[];a=a.children.filter(function(a){return!a.ignore});p&&p.layoutStartingDirection&&(c.direction="vertical"===p.layoutStartingDirection?0:1);d=f[e](c,a);a.forEach(function(a,b){b=d[b];a.values=A(b,{val:a.childrenTotal,direction:h?1-c.direction:c.direction});a.pointValues=A(b,{x:b.x/f.axisRatio,y:100-b.y-b.height,width:b.width/f.axisRatio});a.children.length&&
f.calculateChildrenAreas(a,a.values)})},setPointValues:function(){var a=this,c=a.xAxis,f=a.yAxis,b=a.chart.styledMode;a.points.forEach(function(p){var e=p.node,l=e.pointValues;e=e.visible;if(l&&e){e=l.height;var h=l.width,d=l.x,z=l.y,m=b?0:(a.pointAttribs(p)["stroke-width"]||0)%2/2;l=Math.round(c.toPixels(d,!0))-m;h=Math.round(c.toPixels(d+h,!0))-m;d=Math.round(f.toPixels(z,!0))-m;e=Math.round(f.toPixels(z+e,!0))-m;p.shapeArgs={x:Math.min(l,h),y:Math.min(d,e),width:Math.abs(h-l),height:Math.abs(e-
d)};p.plotX=p.shapeArgs.x+p.shapeArgs.width/2;p.plotY=p.shapeArgs.y+p.shapeArgs.height/2}else delete p.plotX,delete p.plotY})},setColorRecursive:function(a,c,f,b,e){var p=this,l=p&&p.chart;l=l&&l.options&&l.options.colors;if(a){var h=k(a,{colors:l,index:b,mapOptionsToLevel:p.mapOptionsToLevel,parentColor:c,parentColorIndex:f,series:p,siblings:e});if(c=p.points[a.i])c.color=h.color,c.colorIndex=h.colorIndex;(a.children||[]).forEach(function(c,f){p.setColorRecursive(c,h.color,h.colorIndex,f,a.children.length)})}},
algorithmGroup:function(a,c,f,b){this.height=a;this.width=c;this.plot=b;this.startDirection=this.direction=f;this.lH=this.nH=this.lW=this.nW=this.total=0;this.elArr=[];this.lP={total:0,lH:0,nH:0,lW:0,nW:0,nR:0,lR:0,aspectRatio:function(a,c){return Math.max(a/c,c/a)}};this.addElement=function(a){this.lP.total=this.elArr[this.elArr.length-1];this.total+=a;0===this.direction?(this.lW=this.nW,this.lP.lH=this.lP.total/this.lW,this.lP.lR=this.lP.aspectRatio(this.lW,this.lP.lH),this.nW=this.total/this.height,
this.lP.nH=this.lP.total/this.nW,this.lP.nR=this.lP.aspectRatio(this.nW,this.lP.nH)):(this.lH=this.nH,this.lP.lW=this.lP.total/this.lH,this.lP.lR=this.lP.aspectRatio(this.lP.lW,this.lH),this.nH=this.total/this.width,this.lP.nW=this.lP.total/this.nH,this.lP.nR=this.lP.aspectRatio(this.lP.nW,this.nH));this.elArr.push(a)};this.reset=function(){this.lW=this.nW=0;this.elArr=[];this.total=0}},algorithmCalcPoints:function(a,c,f,b){var e,l,h,d,m=f.lW,z=f.lH,g=f.plot,k=0,C=f.elArr.length-1;if(c)m=f.nW,z=f.nH;
else var F=f.elArr[f.elArr.length-1];f.elArr.forEach(function(a){if(c||k<C)0===f.direction?(e=g.x,l=g.y,h=m,d=a/h):(e=g.x,l=g.y,d=z,h=a/d),b.push({x:e,y:l,width:h,height:L(d)}),0===f.direction?g.y+=d:g.x+=h;k+=1});f.reset();0===f.direction?f.width-=m:f.height-=z;g.y=g.parent.y+(g.parent.height-f.height);g.x=g.parent.x+(g.parent.width-f.width);a&&(f.direction=1-f.direction);c||f.addElement(F)},algorithmLowAspectRatio:function(a,c,f){var b=[],e=this,h,d={x:c.x,y:c.y,parent:c},g=0,m=f.length-1,k=new this.algorithmGroup(c.height,
c.width,c.direction,d);f.forEach(function(f){h=f.val/c.val*c.height*c.width;k.addElement(h);k.lP.nR>k.lP.lR&&e.algorithmCalcPoints(a,!1,k,b,d);g===m&&e.algorithmCalcPoints(a,!0,k,b,d);g+=1});return b},algorithmFill:function(a,c,f){var b=[],e,h=c.direction,d=c.x,g=c.y,m=c.width,k=c.height,C,F,n,r;f.forEach(function(f){e=f.val/c.val*c.height*c.width;C=d;F=g;0===h?(r=k,n=e/r,m-=n,d+=n):(n=m,r=e/n,k-=r,g+=r);b.push({x:C,y:F,width:n,height:r});a&&(h=1-h)});return b},strip:function(a,c){return this.algorithmLowAspectRatio(!1,
a,c)},squarified:function(a,c){return this.algorithmLowAspectRatio(!0,a,c)},sliceAndDice:function(a,c){return this.algorithmFill(!0,a,c)},stripes:function(a,c){return this.algorithmFill(!1,a,c)},translate:function(){var a=this,c=a.options,f=G(a);h.prototype.translate.call(a);var b=a.tree=a.getTree();var e=a.nodeMap[f];a.renderTraverseUpButton(f);a.mapOptionsToLevel=w({from:e.level+1,levels:c.levels,to:b.height,defaults:{levelIsConstant:a.options.levelIsConstant,colorByPoint:c.colorByPoint}});""===
f||e&&e.children.length||(a.setRootNode("",!1),f=a.rootNode,e=a.nodeMap[f]);C(a.nodeMap[a.rootNode],function(c){var b=!1,f=c.parent;c.visible=!0;if(f||""===f)b=a.nodeMap[f];return b});C(a.nodeMap[a.rootNode].children,function(a){var c=!1;a.forEach(function(a){a.visible=!0;a.children.length&&(c=(c||[]).concat(a.children))});return c});a.setTreeValues(b);a.axisRatio=a.xAxis.len/a.yAxis.len;a.nodeMap[""].pointValues=f={x:0,y:0,width:100,height:100};a.nodeMap[""].values=f=A(f,{width:f.width*a.axisRatio,
direction:"vertical"===c.layoutStartingDirection?0:1,val:b.val});a.calculateChildrenAreas(b,f);a.colorAxis||c.colorByPoint||a.setColorRecursive(a.tree);c.allowTraversingTree&&(c=e.pointValues,a.xAxis.setExtremes(c.x,c.x+c.width,!1),a.yAxis.setExtremes(c.y,c.y+c.height,!1),a.xAxis.setScale(),a.yAxis.setScale());a.setPointValues()},drawDataLabels:function(){var a=this,c=a.mapOptionsToLevel,b,e;a.points.filter(function(a){return a.node.visible}).forEach(function(f){e=c[f.node.level];b={style:{}};f.node.isLeaf||
(b.enabled=!1);e&&e.dataLabels&&(b=A(b,e.dataLabels),a._hasPointLabels=!0);f.shapeArgs&&(b.style.width=f.shapeArgs.width,f.dataLabel&&f.dataLabel.css({width:f.shapeArgs.width+"px"}));f.dlOptions=A(b,f.options.dataLabels)});h.prototype.drawDataLabels.call(this)},alignDataLabel:function(a,c,b){var f=b.style;!y(f.textOverflow)&&c.text&&c.getBBox().width>c.text.textWidth&&c.css({textOverflow:"ellipsis",width:f.width+="px"});e.column.prototype.alignDataLabel.apply(this,arguments);a.dataLabel&&a.dataLabel.attr({zIndex:(a.node.zIndex||
0)+1})},pointAttribs:function(a,c){var b=O(this.mapOptionsToLevel)?this.mapOptionsToLevel:{},e=a&&b[a.node.level]||{};b=this.options;var h=c&&b.states[c]||{},d=a&&a.getClassName()||"";a={stroke:a&&a.borderColor||e.borderColor||h.borderColor||b.borderColor,"stroke-width":B(a&&a.borderWidth,e.borderWidth,h.borderWidth,b.borderWidth),dashstyle:a&&a.borderDashStyle||e.borderDashStyle||h.borderDashStyle||b.borderDashStyle,fill:a&&a.color||this.color};-1!==d.indexOf("highcharts-above-level")?(a.fill="none",
a["stroke-width"]=0):-1!==d.indexOf("highcharts-internal-node-interactive")?(c=B(h.opacity,b.opacity),a.fill=Q(a.fill).setOpacity(c).get(),a.cursor="pointer"):-1!==d.indexOf("highcharts-internal-node")?a.fill="none":c&&(a.fill=Q(a.fill).brighten(h.brightness).get());return a},drawPoints:function(){var a=this,c=a.chart,b=c.renderer,e=c.styledMode,h=a.options,d=e?{}:h.shadow,g=h.borderRadius,m=c.pointCount<h.animationLimit,k=h.allowTraversingTree;a.points.forEach(function(c){var f=c.node.levelDynamic,
l={},p={},C={},P="level-group-"+f,n=!!c.graphic,r=m&&n,F=c.shapeArgs;c.shouldDraw()&&(g&&(p.r=g),A(!0,r?l:p,n?F:{},e?{}:a.pointAttribs(c,c.selected&&"select")),a.colorAttribs&&e&&q(C,a.colorAttribs(c)),a[P]||(a[P]=b.g(P).attr({zIndex:1E3-f}).add(a.group),a[P].survive=!0));c.draw({animatableAttribs:l,attribs:p,css:C,group:a[P],renderer:b,shadow:d,shapeArgs:F,shapeType:"rect"});k&&c.graphic&&(c.drillId=h.interactByLeaf?a.drillToByLeaf(c):a.drillToByGroup(c))})},onClickDrillToNode:function(a){var c=
(a=a.point)&&a.drillId;E(c)&&(this.isDrillAllowed?this.isDrillAllowed(c):1)&&(a.setState(""),this.setRootNode(c,!0,{trigger:"click"}))},drillToByGroup:function(a){var c=!1;1!==a.node.level-this.nodeMap[this.rootNode].level||a.node.isLeaf||(c=a.id);return c},drillToByLeaf:function(a){var c=!1;if(a.node.parent!==this.rootNode&&a.node.isLeaf)for(a=a.node;!c;)a=this.nodeMap[a.parent],a.parent===this.rootNode&&(c=a.id);return c},drillUp:function(){var a=this.nodeMap[this.rootNode];a&&E(a.parent)&&this.setRootNode(a.parent,
!0,{trigger:"traverseUpButton"})},drillToNode:function(a,c){M(32,!1,void 0,{"treemap.drillToNode":"use treemap.setRootNode"});this.setRootNode(a,c)},setRootNode:function(a,c,b){a=q({newRootId:a,previousRootId:this.rootNode,redraw:B(c,!0),series:this},b);N(this,"setRootNode",a,function(a){var c=a.series;c.idPreviousRoot=a.previousRootId;c.rootNode=a.newRootId;c.isDirty=!0;a.redraw&&c.chart.redraw()})},isDrillAllowed:function(a){var c=this.tree,b=c.children[0];return!(1===c.children.length&&(""===this.rootNode&&
a===b.id||this.rootNode===b.id&&""===a))},renderTraverseUpButton:function(a){var c=this,b=c.nodeMap[a],e=c.options.traverseUpButton,h=B(e.text,b.name,"< Back");""!==a&&(!c.isDrillAllowed||E(b.parent)&&c.isDrillAllowed(b.parent))?this.drillUpButton?(this.drillUpButton.placed=!1,this.drillUpButton.attr({text:h}).align()):(b=(a=e.theme)&&a.states,this.drillUpButton=this.chart.renderer.button(h,null,null,function(){c.drillUp()},a,b&&b.hover,b&&b.select).addClass("highcharts-drillup-button").attr({align:e.position.align,
zIndex:7}).add().align(e.position,!1,e.relativeTo||"plotBox")):c.drillUpButton&&(c.drillUpButton=c.drillUpButton.destroy())},buildKDTree:g,drawLegendSymbol:n.drawRectangle,getExtremes:function(){var a=h.prototype.getExtremes.call(this,this.colorValueData),c=a.dataMax;this.valueMin=a.dataMin;this.valueMax=c;return h.prototype.getExtremes.call(this)},getExtremesFromAll:!0,setState:function(a){this.options.inactiveOtherPoints=!0;h.prototype.setState.call(this,a,!1);this.options.inactiveOtherPoints=!1},
utils:{recursive:C}},{draw:u.drawPoint,setVisible:e.pie.prototype.pointClass.prototype.setVisible,getClassName:function(){var a=T.prototype.getClassName.call(this),c=this.series,b=c.options;this.node.level<=c.nodeMap[c.rootNode].level?a+=" highcharts-above-level":this.node.isLeaf||B(b.interactByLeaf,!b.allowTraversingTree)?this.node.isLeaf||(a+=" highcharts-internal-node"):a+=" highcharts-internal-node-interactive";return a},isValid:function(){return this.id||I(this.value)},setState:function(a){T.prototype.setState.call(this,
a);this.graphic&&this.graphic.attr({zIndex:"hover"===a?1:0})},shouldDraw:function(){return I(this.plotY)&&null!==this.y}});H(b.Series,"afterBindAxes",function(){var a=this.xAxis,c=this.yAxis;if(a&&c)if(this.is("treemap")){var b={endOnTick:!1,gridLineWidth:0,lineWidth:0,min:0,dataMin:0,minPadding:0,max:100,dataMax:100,maxPadding:0,startOnTick:!1,title:null,tickPositions:[]};q(c.options,b);q(a.options,b);F=!0}else F&&(c.setOptions(c.userOptions),a.setOptions(a.userOptions),F=!1)});""});u(b,"Series/SunburstSeries.js",
[b["Core/Globals.js"],b["Core/Utilities.js"],b["Mixins/CenteredSeries.js"],b["Mixins/DrawPoint.js"],b["Mixins/TreeSeries.js"]],function(b,d,t,u,v){var n=d.correctFloat,w=d.error,g=d.extend,r=d.isNumber,k=d.isObject,J=d.isString,G=d.merge,Q=d.seriesType,H=d.splat,L=v.getColor,y=v.getLevelOptions,M=v.setTreeValues,q=v.updateRootId,N=b.Series,D=t.getCenter,I=t.getStartAndEndRadians,O=180/Math.PI,E=b.seriesTypes,A=function(b,h){var e=[];if(r(b)&&r(h)&&b<=h)for(;b<=h;b++)e.push(b);return e},R=function(b,
h){h=k(h)?h:{};var e=0,d;if(k(b)){var g=G({},b);b=r(h.from)?h.from:0;var a=r(h.to)?h.to:0;var c=A(b,a);b=Object.keys(g).filter(function(a){return-1===c.indexOf(+a)});var f=d=r(h.diffRadius)?h.diffRadius:0;c.forEach(function(a){a=g[a];var c=a.levelSize.unit,b=a.levelSize.value;"weight"===c?e+=b:"percentage"===c?(a.levelSize={unit:"pixels",value:b/100*f},d-=a.levelSize.value):"pixels"===c&&(d-=b)});c.forEach(function(a){var c=g[a];"weight"===c.levelSize.unit&&(c=c.levelSize.value,g[a].levelSize={unit:"pixels",
value:c/e*d})});b.forEach(function(a){g[a].levelSize={value:0,unit:"pixels"}})}return g},B=function(b){var e=b.level;return{from:0<e?e:1,to:e+b.height}},S=function(b,h){var e=h.mapIdToNode[b.parent],d=h.series,g=d.chart,a=d.points[b.i];e=L(b,{colors:d.options.colors||g&&g.options.colors,colorIndex:d.colorIndex,index:h.index,mapOptionsToLevel:h.mapOptionsToLevel,parentColor:e&&e.color,parentColorIndex:e&&e.colorIndex,series:h.series,siblings:h.siblings});b.color=e.color;b.colorIndex=e.colorIndex;a&&
(a.color=b.color,a.colorIndex=b.colorIndex,b.sliced=b.id!==h.idRoot?a.sliced:!1);return b};Q("sunburst","treemap",{center:["50%","50%"],colorByPoint:!1,opacity:1,dataLabels:{allowOverlap:!0,defer:!0,rotationMode:"auto",style:{textOverflow:"ellipsis"}},rootId:void 0,levelIsConstant:!0,levelSize:{value:1,unit:"weight"},slicedOffset:10},{drawDataLabels:b.noop,drawPoints:function(){var b=this,h=b.mapOptionsToLevel,d=b.shapeRoot,n=b.group,F=b.hasRendered,a=b.rootNode,c=b.idPreviousRoot,f=b.nodeMap,l=f[c],
p=l&&l.shapeArgs;l=b.points;var t=b.startAndEndRadians,u=b.chart,q=u&&u.options&&u.options.chart||{},w="boolean"===typeof q.animation?q.animation:!0,z=b.center[3]/2,v=b.chart.renderer,y=!1,B=!1;if(q=!!(w&&F&&a!==c&&b.dataLabelsGroup)){b.dataLabelsGroup.attr({opacity:0});var D=function(){y=!0;b.dataLabelsGroup&&b.dataLabelsGroup.animate({opacity:1,visibility:"visible"})}}l.forEach(function(e){var l=e.node,m=h[l.level];var C=e.shapeExisting||{};var q=l.shapeArgs||{},y=!(!l.visible||!l.shapeArgs);if(F&&
w){var K={};var E={end:q.end,start:q.start,innerR:q.innerR,r:q.r,x:q.x,y:q.y};y?!e.graphic&&p&&(K=a===e.id?{start:t.start,end:t.end}:p.end<=q.start?{start:t.end,end:t.end}:{start:t.start,end:t.start},K.innerR=K.r=z):e.graphic&&(c===e.id?E={innerR:z,r:z}:d&&(E=d.end<=C.start?{innerR:z,r:z,start:t.end,end:t.end}:{innerR:z,r:z,start:t.start,end:t.start}));C=K}else E=q,C={};K=[q.plotX,q.plotY];if(!e.node.isLeaf)if(a===e.id){var x=f[a];x=x.parent}else x=e.id;g(e,{shapeExisting:q,tooltipPos:K,drillId:x,
name:""+(e.name||e.id||e.index),plotX:q.plotX,plotY:q.plotY,value:l.val,isNull:!y});x=e.options;l=k(q)?q:{};x=k(x)?x.dataLabels:{};m=H(k(m)?m.dataLabels:{})[0];m=G({style:{}},m,x);x=m.rotationMode;if(!r(m.rotation)){if("auto"===x||"circular"===x)if(1>e.innerArcLength&&e.outerArcLength>l.radius){var A=0;e.dataLabelPath&&"circular"===x&&(m.textPath={enabled:!0})}else 1<e.innerArcLength&&e.outerArcLength>1.5*l.radius?"circular"===x?m.textPath={enabled:!0,attributes:{dy:5}}:x="parallel":(e.dataLabel&&
e.dataLabel.textPathWrapper&&"circular"===x&&(m.textPath={enabled:!1}),x="perpendicular");"auto"!==x&&"circular"!==x&&(A=l.end-(l.end-l.start)/2);m.style.width="parallel"===x?Math.min(2.5*l.radius,(e.outerArcLength+e.innerArcLength)/2):l.radius;"perpendicular"===x&&e.series.chart.renderer.fontMetrics(m.style.fontSize).h>e.outerArcLength&&(m.style.width=1);m.style.width=Math.max(m.style.width-2*(m.padding||0),1);A=A*O%180;"parallel"===x&&(A-=90);90<A?A-=180:-90>A&&(A+=180);m.rotation=A}m.textPath&&
(0===e.shapeExisting.innerR&&m.textPath.enabled?(m.rotation=0,m.textPath.enabled=!1,m.style.width=Math.max(2*e.shapeExisting.r-2*(m.padding||0),1)):e.dlOptions&&e.dlOptions.textPath&&!e.dlOptions.textPath.enabled&&"circular"===x&&(m.textPath.enabled=!0),m.textPath.enabled&&(m.rotation=0,m.style.width=Math.max((e.outerArcLength+e.innerArcLength)/2-2*(m.padding||0),1)));0===m.rotation&&(m.rotation=.001);e.dlOptions=m;if(!B&&y){B=!0;var U=D}e.draw({animatableAttribs:E,attribs:g(C,!u.styledMode&&b.pointAttribs(e,
e.selected&&"select")),onComplete:U,group:n,renderer:v,shapeType:"arc",shapeArgs:q})});q&&B?(b.hasRendered=!1,b.options.dataLabels.defer=!0,N.prototype.drawDataLabels.call(b),b.hasRendered=!0,y&&D()):N.prototype.drawDataLabels.call(b)},pointAttribs:E.column.prototype.pointAttribs,layoutAlgorithm:function(b,h,d){var e=b.start,g=b.end-e,a=b.val,c=b.x,f=b.y,m=d&&k(d.levelSize)&&r(d.levelSize.value)?d.levelSize.value:0,p=b.r,q=p+m,n=d&&r(d.slicedOffset)?d.slicedOffset:0;return(h||[]).reduce(function(b,
d){var h=1/a*d.val*g,l=e+h/2,k=c+Math.cos(l)*n;l=f+Math.sin(l)*n;d={x:d.sliced?k:c,y:d.sliced?l:f,innerR:p,r:q,radius:m,start:e,end:e+h};b.push(d);e=d.end;return b},[])},setShapeArgs:function(b,d,g){var e=[],h=g[b.level+1];b=b.children.filter(function(a){return a.visible});e=this.layoutAlgorithm(d,b,h);b.forEach(function(a,b){b=e[b];var c=b.start+(b.end-b.start)/2,d=b.innerR+(b.r-b.innerR)/2,h=b.end-b.start;d=0===b.innerR&&6.28<h?{x:b.x,y:b.y}:{x:b.x+Math.cos(c)*d,y:b.y+Math.sin(c)*d};var m=a.val?
a.childrenTotal>a.val?a.childrenTotal:a.val:a.childrenTotal;this.points[a.i]&&(this.points[a.i].innerArcLength=h*b.innerR,this.points[a.i].outerArcLength=h*b.r);a.shapeArgs=G(b,{plotX:d.x,plotY:d.y+4*Math.abs(Math.cos(c))});a.values=G(b,{val:m});a.children.length&&this.setShapeArgs(a,a.values,g)},this)},translate:function(){var b=this,d=b.options,g=b.center=D.call(b),k=b.startAndEndRadians=I(d.startAngle,d.endAngle),n=g[3]/2,a=g[2]/2-n,c=q(b),f=b.nodeMap,l=f&&f[c],p={};b.shapeRoot=l&&l.shapeArgs;
N.prototype.translate.call(b);var t=b.tree=b.getTree();b.renderTraverseUpButton(c);f=b.nodeMap;l=f[c];var r=J(l.parent)?l.parent:"";r=f[r];var u=B(l);var v=u.from,z=u.to;u=y({from:v,levels:b.options.levels,to:z,defaults:{colorByPoint:d.colorByPoint,dataLabels:d.dataLabels,levelIsConstant:d.levelIsConstant,levelSize:d.levelSize,slicedOffset:d.slicedOffset}});u=R(u,{diffRadius:a,from:v,to:z});M(t,{before:S,idRoot:c,levelIsConstant:d.levelIsConstant,mapOptionsToLevel:u,mapIdToNode:f,points:b.points,
series:b});d=f[""].shapeArgs={end:k.end,r:n,start:k.start,val:l.val,x:g[0],y:g[1]};this.setShapeArgs(r,d,u);b.mapOptionsToLevel=u;b.data.forEach(function(a){p[a.id]&&w(31,!1,b.chart);p[a.id]=!0});p={}},alignDataLabel:function(b,d,g){if(!g.textPath||!g.textPath.enabled)return E.treemap.prototype.alignDataLabel.apply(this,arguments)},animate:function(b){var d=this.chart,e=[d.plotWidth/2,d.plotHeight/2],g=d.plotLeft,k=d.plotTop;d=this.group;b?(b={translateX:e[0]+g,translateY:e[1]+k,scaleX:.001,scaleY:.001,
rotation:10,opacity:.01},d.attr(b)):(b={translateX:g,translateY:k,scaleX:1,scaleY:1,rotation:0,opacity:1},d.animate(b,this.options.animation))},utils:{calculateLevelSizes:R,getLevelFromAndTo:B,range:A}},{draw:u.drawPoint,shouldDraw:function(){return!this.isNull},isValid:function(){return!0},getDataLabelPath:function(b){var d=this.series.chart.renderer,e=this.shapeExisting,g=e.start,k=e.end,a=g+(k-g)/2;a=0>a&&a>-Math.PI||a>Math.PI;var c=e.r+(b.options.distance||0);g===-Math.PI/2&&n(k)===n(1.5*Math.PI)&&
(g=-Math.PI+Math.PI/360,k=-Math.PI/360,a=!0);if(k-g>Math.PI){a=!1;var f=!0}this.dataLabelPath&&(this.dataLabelPath=this.dataLabelPath.destroy());this.dataLabelPath=d.arc({open:!0,longArc:f?1:0}).add(b);this.dataLabelPath.attr({start:a?g:k,end:a?k:g,clockwise:+a,x:e.x,y:e.y,r:(c+e.innerR)/2});return this.dataLabelPath}})});u(b,"masters/modules/sunburst.src.js",[],function(){})});
//# sourceMappingURL=sunburst.js.map