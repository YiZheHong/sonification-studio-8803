/*
 Highmaps JS v8.2.0 (2020-08-27)

 (c) 2009-2019 Torstein Honsi

 License: www.highcharts.com/license
*/
(function(b){"object"===typeof module&&module.exports?(b["default"]=b,module.exports=b):"function"===typeof define&&define.amd?define("highcharts/modules/heatmap",["highcharts"],function(r){b(r);b.Highcharts=r;return b}):b("undefined"!==typeof Highcharts?Highcharts:void 0)})(function(b){function r(b,v,l,h){b.hasOwnProperty(v)||(b[v]=h.apply(null,l))}b=b?b._modules:{};r(b,"Mixins/ColorSeries.js",[b["Core/Globals.js"]],function(b){b.colorPointMixin={setVisible:function(b){var l=this,h=b?"show":"hide";
l.visible=l.options.visible=!!b;["graphic","dataLabel"].forEach(function(b){if(l[b])l[b][h]()});this.series.buildKDTree()}};b.colorSeriesMixin={optionalAxis:"colorAxis",colorAxis:0,translateColors:function(){var b=this,l=this.options.nullColor,h=this.colorAxis,y=this.colorKey;(this.data.length?this.data:this.points).forEach(function(q){var w=q.getNestedProperty(y);(w=q.options.color||(q.isNull||null===q.value?l:h&&"undefined"!==typeof w?h.toColor(w,q):q.color||b.color))&&q.color!==w&&(q.color=w,"point"===
b.options.legendType&&q.legendItem&&b.chart.legend.colorizeItem(q,q.visible))})}}});r(b,"Core/Axis/ColorAxis.js",[b["Core/Axis/Axis.js"],b["Core/Chart/Chart.js"],b["Core/Color.js"],b["Core/Globals.js"],b["Core/Legend.js"],b["Mixins/LegendSymbol.js"],b["Core/Series/Point.js"],b["Core/Utilities.js"]],function(b,v,l,h,y,q,r,t){var w=this&&this.__extends||function(){var d=function(a,c){d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,m){c.__proto__=m}||function(c,m){for(var e in m)m.hasOwnProperty(e)&&
(c[e]=m[e])};return d(a,c)};return function(a,c){function k(){this.constructor=a}d(a,c);a.prototype=null===c?Object.create(c):(k.prototype=c.prototype,new k)}}(),x=l.parse,B=h.noop;l=t.addEvent;var C=t.erase,u=t.extend,z=t.Fx,a=t.isNumber,g=t.merge,A=t.pick,D=t.splat;"";var p=h.Series;t=h.colorPointMixin;u(p.prototype,h.colorSeriesMixin);u(r.prototype,t);v.prototype.collectionsWithUpdate.push("colorAxis");v.prototype.collectionsWithInit.colorAxis=[v.prototype.addColorAxis];var n=function(d){function f(c,
k){var m=d.call(this,c,k)||this;m.beforePadding=!1;m.chart=void 0;m.coll="colorAxis";m.dataClasses=void 0;m.legendItem=void 0;m.legendItems=void 0;m.name="";m.options=void 0;m.stops=void 0;m.visible=!0;m.init(c,k);return m}w(f,d);f.buildOptions=function(c,k,m){c=c.options.legend||{};var e=m.layout?"vertical"!==m.layout:"vertical"!==c.layout;return g(k,{side:e?2:1,reversed:!e},m,{opposite:!e,showEmpty:!1,title:null,visible:c.enabled&&(m?!1!==m.visible:!0)})};f.prototype.init=function(c,k){var m=f.buildOptions(c,
f.defaultOptions,k);this.coll="colorAxis";d.prototype.init.call(this,c,m);k.dataClasses&&this.initDataClasses(k);this.initStops();this.horiz=!m.opposite;this.zoomEnabled=!1};f.prototype.initDataClasses=function(c){var k=this.chart,m,e=0,a=k.options.chart.colorCount,d=this.options,f=c.dataClasses.length;this.dataClasses=m=[];this.legendItems=[];c.dataClasses.forEach(function(c,b){c=g(c);m.push(c);if(k.styledMode||!c.color)"category"===d.dataClassColor?(k.styledMode||(b=k.options.colors,a=b.length,
c.color=b[e]),c.colorIndex=e,e++,e===a&&(e=0)):c.color=x(d.minColor).tweenTo(x(d.maxColor),2>f?.5:b/(f-1))})};f.prototype.hasData=function(){return!!(this.tickPositions||[]).length};f.prototype.setTickPositions=function(){if(!this.dataClasses)return d.prototype.setTickPositions.call(this)};f.prototype.initStops=function(){this.stops=this.options.stops||[[0,this.options.minColor],[1,this.options.maxColor]];this.stops.forEach(function(c){c.color=x(c[1])})};f.prototype.setOptions=function(c){d.prototype.setOptions.call(this,
c);this.options.crosshair=this.options.marker};f.prototype.setAxisSize=function(){var c=this.legendSymbol,k=this.chart,m=k.options.legend||{},e,a;c?(this.left=m=c.attr("x"),this.top=e=c.attr("y"),this.width=a=c.attr("width"),this.height=c=c.attr("height"),this.right=k.chartWidth-m-a,this.bottom=k.chartHeight-e-c,this.len=this.horiz?a:c,this.pos=this.horiz?m:e):this.len=(this.horiz?m.symbolWidth:m.symbolHeight)||f.defaultLegendLength};f.prototype.normalizedValue=function(c){this.logarithmic&&(c=this.logarithmic.log2lin(c));
return 1-(this.max-c)/(this.max-this.min||1)};f.prototype.toColor=function(c,k){var a=this.dataClasses,e=this.stops,d;if(a)for(d=a.length;d--;){var f=a[d];var b=f.from;e=f.to;if(("undefined"===typeof b||c>=b)&&("undefined"===typeof e||c<=e)){var g=f.color;k&&(k.dataClass=d,k.colorIndex=f.colorIndex);break}}else{c=this.normalizedValue(c);for(d=e.length;d--&&!(c>e[d][0]););b=e[d]||e[d+1];e=e[d+1]||b;c=1-(e[0]-c)/(e[0]-b[0]||1);g=b.color.tweenTo(e.color,c)}return g};f.prototype.getOffset=function(){var c=
this.legendGroup,a=this.chart.axisOffset[this.side];c&&(this.axisParent=c,d.prototype.getOffset.call(this),this.added||(this.added=!0,this.labelLeft=0,this.labelRight=this.width),this.chart.axisOffset[this.side]=a)};f.prototype.setLegendColor=function(){var c=this.reversed,a=c?1:0;c=c?0:1;a=this.horiz?[a,0,c,0]:[0,c,0,a];this.legendColor={linearGradient:{x1:a[0],y1:a[1],x2:a[2],y2:a[3]},stops:this.stops}};f.prototype.drawLegendSymbol=function(c,a){var d=c.padding,e=c.options,k=this.horiz,b=A(e.symbolWidth,
k?f.defaultLegendLength:12),g=A(e.symbolHeight,k?12:f.defaultLegendLength),n=A(e.labelPadding,k?16:30);e=A(e.itemDistance,10);this.setLegendColor();a.legendSymbol=this.chart.renderer.rect(0,c.baseline-11,b,g).attr({zIndex:1}).add(a.legendGroup);this.legendItemWidth=b+d+(k?e:n);this.legendItemHeight=g+d+(k?n:0)};f.prototype.setState=function(c){this.series.forEach(function(a){a.setState(c)})};f.prototype.setVisible=function(){};f.prototype.getSeriesExtremes=function(){var c=this.series,a=c.length,
d;this.dataMin=Infinity;for(this.dataMax=-Infinity;a--;){var e=c[a];var b=e.colorKey=A(e.options.colorKey,e.colorKey,e.pointValKey,e.zoneAxis,"y");var f=e.pointArrayMap;var g=e[b+"Min"]&&e[b+"Max"];if(e[b+"Data"])var n=e[b+"Data"];else if(f){n=[];f=f.indexOf(b);var h=e.yData;if(0<=f&&h)for(d=0;d<h.length;d++)n.push(A(h[d][f],h[d]))}else n=e.yData;g?(e.minColorValue=e[b+"Min"],e.maxColorValue=e[b+"Max"]):(n=p.prototype.getExtremes.call(e,n),e.minColorValue=n.dataMin,e.maxColorValue=n.dataMax);"undefined"!==
typeof e.minColorValue&&(this.dataMin=Math.min(this.dataMin,e.minColorValue),this.dataMax=Math.max(this.dataMax,e.maxColorValue));g||p.prototype.applyExtremes.call(e)}};f.prototype.drawCrosshair=function(c,a){var b=a&&a.plotX,e=a&&a.plotY,f=this.pos,g=this.len;if(a){var k=this.toPixels(a.getNestedProperty(a.series.colorKey));k<f?k=f-2:k>f+g&&(k=f+g+2);a.plotX=k;a.plotY=this.len-k;d.prototype.drawCrosshair.call(this,c,a);a.plotX=b;a.plotY=e;this.cross&&!this.cross.addedToColorAxis&&this.legendGroup&&
(this.cross.addClass("highcharts-coloraxis-marker").add(this.legendGroup),this.cross.addedToColorAxis=!0,!this.chart.styledMode&&this.crosshair&&this.cross.attr({fill:this.crosshair.color}))}};f.prototype.getPlotLinePath=function(c){var b=this.left,f=c.translatedValue,e=this.top;return a(f)?this.horiz?[["M",f-4,e-6],["L",f+4,e-6],["L",f,e],["Z"]]:[["M",b,f],["L",b-6,f+6],["L",b-6,f-6],["Z"]]:d.prototype.getPlotLinePath.call(this,c)};f.prototype.update=function(c,a){var b=this.chart,e=b.legend,k=f.buildOptions(b,
{},c);this.series.forEach(function(c){c.isDirtyData=!0});(c.dataClasses&&e.allItems||this.dataClasses)&&this.destroyItems();b.options[this.coll]=g(this.userOptions,k);d.prototype.update.call(this,k,a);this.legendItem&&(this.setLegendColor(),e.colorizeItem(this,!0))};f.prototype.destroyItems=function(){var c=this.chart;this.legendItem?c.legend.destroyItem(this):this.legendItems&&this.legendItems.forEach(function(a){c.legend.destroyItem(a)});c.isDirtyLegend=!0};f.prototype.remove=function(c){this.destroyItems();
d.prototype.remove.call(this,c)};f.prototype.getDataClassLegendSymbols=function(){var c=this,a=c.chart,d=c.legendItems,b=a.options.legend,f=b.valueDecimals,g=b.valueSuffix||"",n;d.length||c.dataClasses.forEach(function(b,e){var k=!0,m=b.from,p=b.to,h=a.numberFormatter;n="";"undefined"===typeof m?n="< ":"undefined"===typeof p&&(n="> ");"undefined"!==typeof m&&(n+=h(m,f)+g);"undefined"!==typeof m&&"undefined"!==typeof p&&(n+=" - ");"undefined"!==typeof p&&(n+=h(p,f)+g);d.push(u({chart:a,name:n,options:{},
drawLegendSymbol:q.drawRectangle,visible:!0,setState:B,isDataClass:!0,setVisible:function(){k=c.visible=!k;c.series.forEach(function(c){c.points.forEach(function(c){c.dataClass===e&&c.setVisible(k)})});a.legend.colorizeItem(this,k)}},b))});return d};f.defaultLegendLength=200;f.defaultOptions={lineWidth:0,minPadding:0,maxPadding:0,gridLineWidth:1,tickPixelInterval:72,startOnTick:!0,endOnTick:!0,offset:0,marker:{animation:{duration:50},width:.01,color:"#999999"},labels:{overflow:"justify",rotation:0},
minColor:"#e6ebf5",maxColor:"#003399",tickLength:5,showInLegend:!0};f.keepProps=["legendGroup","legendItemHeight","legendItemWidth","legendItem","legendSymbol"];return f}(b);Array.prototype.push.apply(b.keepProps,n.keepProps);h.ColorAxis=n;["fill","stroke"].forEach(function(a){z.prototype[a+"Setter"]=function(){this.elem.attr(a,x(this.start).tweenTo(x(this.end),this.pos),null,!0)}});l(v,"afterGetAxes",function(){var a=this,b=a.options;this.colorAxis=[];b.colorAxis&&(b.colorAxis=D(b.colorAxis),b.colorAxis.forEach(function(c,
b){c.index=b;new n(a,c)}))});l(p,"bindAxes",function(){var a=this.axisTypes;a?-1===a.indexOf("colorAxis")&&a.push("colorAxis"):this.axisTypes=["colorAxis"]});l(y,"afterGetAllItems",function(a){var b=[],c,d;(this.chart.colorAxis||[]).forEach(function(d){(c=d.options)&&c.showInLegend&&(c.dataClasses&&c.visible?b=b.concat(d.getDataClassLegendSymbols()):c.visible&&b.push(d),d.series.forEach(function(b){if(!b.options.showInLegend||c.dataClasses)"point"===b.options.legendType?b.points.forEach(function(c){C(a.allItems,
c)}):C(a.allItems,b)}))});for(d=b.length;d--;)a.allItems.unshift(b[d])});l(y,"afterColorizeItem",function(a){a.visible&&a.item.legendColor&&a.item.legendSymbol.attr({fill:a.item.legendColor})});l(y,"afterUpdate",function(){var a=this.chart.colorAxis;a&&a.forEach(function(a,c,b){a.update({},b)})});l(p,"afterTranslate",function(){(this.chart.colorAxis&&this.chart.colorAxis.length||this.colorAttribs)&&this.translateColors()});return n});r(b,"Mixins/ColorMapSeries.js",[b["Core/Globals.js"],b["Core/Series/Point.js"],
b["Core/Utilities.js"]],function(b,v,l){var h=l.defined;return{colorMapPointMixin:{dataLabelOnNull:!0,isValid:function(){return null!==this.value&&Infinity!==this.value&&-Infinity!==this.value},setState:function(b){v.prototype.setState.call(this,b);this.graphic&&this.graphic.attr({zIndex:"hover"===b?1:0})}},colorMapSeriesMixin:{pointArrayMap:["value"],axisTypes:["xAxis","yAxis","colorAxis"],trackerGroups:["group","markerGroup","dataLabelsGroup"],getSymbol:b.noop,parallelArrays:["x","y","value"],colorKey:"value",
pointAttribs:b.seriesTypes.column.prototype.pointAttribs,colorAttribs:function(b){var l={};h(b.color)&&(l[this.colorProp||"fill"]=b.color);return l}}}});r(b,"Series/HeatmapSeries.js",[b["Core/Globals.js"],b["Mixins/LegendSymbol.js"],b["Core/Renderer/SVG/SVGRenderer.js"],b["Core/Utilities.js"],b["Mixins/ColorMapSeries.js"]],function(b,v,l,h,r){var q=h.clamp,w=h.extend,t=h.fireEvent,y=h.isNumber,x=h.merge,B=h.pick;h=h.seriesType;"";var C=r.colorMapPointMixin,u=b.Series,z=l.prototype.symbols;h("heatmap",
"scatter",{animation:!1,borderWidth:0,nullColor:"#f7f7f7",dataLabels:{formatter:function(){return this.point.value},inside:!0,verticalAlign:"middle",crop:!1,overflow:!1,padding:0},marker:{symbol:"rect",radius:0,lineColor:void 0,states:{hover:{lineWidthPlus:0},select:{}}},clip:!0,pointRange:null,tooltip:{pointFormat:"{point.x}, {point.y}: {point.value}<br/>"},states:{hover:{halo:!1,brightness:.2}}},x(r.colorMapSeriesMixin,{pointArrayMap:["y","value"],hasPointSpecificOptions:!0,getExtremesFromAll:!0,
directTouch:!0,init:function(){u.prototype.init.apply(this,arguments);var a=this.options;a.pointRange=B(a.pointRange,a.colsize||1);this.yAxis.axisPointRange=a.rowsize||1;w(z,{ellipse:z.circle,rect:z.square})},getSymbol:u.prototype.getSymbol,setClip:function(a){var b=this.chart;u.prototype.setClip.apply(this,arguments);(!1!==this.options.clip||a)&&this.markerGroup.clip((a||this.clipBox)&&this.sharedClipKey?b[this.sharedClipKey]:b.clipRect)},translate:function(){var a=this.options,b=a.marker&&a.marker.symbol||
"",h=z[b]?b:"rect";a=this.options;var l=-1!==["circle","square"].indexOf(h);this.generatePoints();this.points.forEach(function(a){var g=a.getCellAttributes(),d={x:Math.min(g.x1,g.x2),y:Math.min(g.y1,g.y2),width:Math.max(Math.abs(g.x2-g.x1),0),height:Math.max(Math.abs(g.y2-g.y1),0)};var f=a.hasImage=0===(a.marker&&a.marker.symbol||b||"").indexOf("url");if(l){var c=Math.abs(d.width-d.height);d.x=Math.min(g.x1,g.x2)+(d.width<d.height?0:c/2);d.y=Math.min(g.y1,g.y2)+(d.width<d.height?c/2:0);d.width=d.height=
Math.min(d.width,d.height)}c={plotX:(g.x1+g.x2)/2,plotY:(g.y1+g.y2)/2,clientX:(g.x1+g.x2)/2,shapeType:"path",shapeArgs:x(!0,d,{d:z[h](d.x,d.y,d.width,d.height)})};f&&(a.marker={width:d.width,height:d.height});w(a,c)});t(this,"afterTranslate")},pointAttribs:function(a,g){var h=u.prototype.pointAttribs.call(this,a,g),l=this.options||{},p=this.chart.options.plotOptions||{},n=p.series||{},d=p.heatmap||{};p=l.borderColor||d.borderColor||n.borderColor;n=l.borderWidth||d.borderWidth||n.borderWidth||h["stroke-width"];
h.stroke=a&&a.marker&&a.marker.lineColor||l.marker&&l.marker.lineColor||p||this.color;h["stroke-width"]=n;g&&(a=x(l.states[g],l.marker&&l.marker.states[g],a.options.states&&a.options.states[g]||{}),g=a.brightness,h.fill=a.color||b.color(h.fill).brighten(g||0).get(),h.stroke=a.lineColor);return h},markerAttribs:function(a,b){var g=a.marker||{},h=this.options.marker||{},l=a.shapeArgs||{},n={};if(a.hasImage)return{x:a.plotX,y:a.plotY};if(b){var d=h.states[b]||{};var f=g.states&&g.states[b]||{};[["width",
"x"],["height","y"]].forEach(function(a){n[a[0]]=(f[a[0]]||d[a[0]]||l[a[0]])+(f[a[0]+"Plus"]||d[a[0]+"Plus"]||0);n[a[1]]=l[a[1]]+(l[a[0]]-n[a[0]])/2})}return b?n:l},drawPoints:function(){var a=this;if((this.options.marker||{}).enabled||this._hasPointMarkers)u.prototype.drawPoints.call(this),this.points.forEach(function(b){b.graphic&&b.graphic[a.chart.styledMode?"css":"animate"](a.colorAttribs(b))})},hasData:function(){return!!this.processedXData.length},getValidPoints:function(a,b){return u.prototype.getValidPoints.call(this,
a,b,!0)},getBox:b.noop,drawLegendSymbol:v.drawRectangle,alignDataLabel:b.seriesTypes.column.prototype.alignDataLabel,getExtremes:function(){var a=u.prototype.getExtremes.call(this,this.valueData),b=a.dataMin;a=a.dataMax;y(b)&&(this.valueMin=b);y(a)&&(this.valueMax=a);return u.prototype.getExtremes.call(this)}}),x(C,{applyOptions:function(a,g){a=b.Point.prototype.applyOptions.call(this,a,g);a.formatPrefix=a.isNull||null===a.value?"null":"point";return a},isValid:function(){return Infinity!==this.value&&
-Infinity!==this.value},haloPath:function(a){if(!a)return[];var b=this.shapeArgs;return["M",b.x-a,b.y-a,"L",b.x-a,b.y+b.height+a,b.x+b.width+a,b.y+b.height+a,b.x+b.width+a,b.y-a,"Z"]},getCellAttributes:function(){var a=this.series,b=a.options,h=(b.colsize||1)/2,l=(b.rowsize||1)/2,p=a.xAxis,n=a.yAxis,d=this.options.marker||a.options.marker;a=a.pointPlacementToXValue();var f=B(this.pointPadding,b.pointPadding,0),c={x1:q(Math.round(p.len-(p.translate(this.x-h,!1,!0,!1,!0,-a)||0)),-p.len,2*p.len),x2:q(Math.round(p.len-
(p.translate(this.x+h,!1,!0,!1,!0,-a)||0)),-p.len,2*p.len),y1:q(Math.round(n.translate(this.y-l,!1,!0,!1,!0)||0),-n.len,2*n.len),y2:q(Math.round(n.translate(this.y+l,!1,!0,!1,!0)||0),-n.len,2*n.len)};[["width","x"],["height","y"]].forEach(function(a){var b=a[0];a=a[1];var e=a+"1",g=a+"2",h=Math.abs(c[e]-c[g]),k=d&&d.lineWidth||0,l=Math.abs(c[e]+c[g])/2;d[b]&&d[b]<h&&(c[e]=l-d[b]/2-k/2,c[g]=l+d[b]/2+k/2);f&&("y"===a&&(e=g,g=a+"1"),c[e]+=f,c[g]-=f)});return c}}));""});r(b,"masters/modules/heatmap.src.js",
[],function(){})});
//# sourceMappingURL=heatmap.js.map