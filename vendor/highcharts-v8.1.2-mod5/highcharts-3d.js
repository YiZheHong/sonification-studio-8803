/*
 Highcharts JS v8.2.0 (2020-08-27)

 3D features for Highcharts JS

 License: www.highcharts.com/license
*/
(function(a){"object"===typeof module&&module.exports?(a["default"]=a,module.exports=a):"function"===typeof define&&define.amd?define("highcharts/highcharts-3d",["highcharts"],function(G){a(G);a.Highcharts=G;return a}):a("undefined"!==typeof Highcharts?Highcharts:void 0)})(function(a){function G(a,t,v,b){a.hasOwnProperty(t)||(a[t]=b.apply(null,v))}a=a?a._modules:{};G(a,"Extensions/Math3D.js",[a["Core/Globals.js"],a["Core/Utilities.js"]],function(a,t){var v=t.pick,b=a.deg2rad,p=a.perspective3D=function(b,
n,h){n=0<h&&h<Number.POSITIVE_INFINITY?h/(b.z+n.z+h):1;return{x:b.x*n,y:b.y*n}},z=a.perspective=function(l,n,h,x){var d=n.options.chart.options3d,a=v(x,h?n.inverted:!1),m={x:n.plotWidth/2,y:n.plotHeight/2,z:d.depth/2,vd:v(d.depth,1)*v(d.viewDistance,0)},k=n.scale3d||1;x=b*d.beta*(a?-1:1);d=b*d.alpha*(a?-1:1);var c=Math.cos(d),q=Math.cos(-x),r=Math.sin(d),e=Math.sin(-x);h||(m.x+=n.plotLeft,m.y+=n.plotTop);return l.map(function(d){var h=(a?d.y:d.x)-m.x;var b=(a?d.x:d.y)-m.y;d=(d.z||0)-m.z;h={x:q*h-
e*d,y:-r*e*h+c*b-q*r*d,z:c*e*h+r*b+c*q*d};b=p(h,m,m.vd);b.x=b.x*k+m.x;b.y=b.y*k+m.y;b.z=h.z*k+m.z;return{x:a?b.y:b.x,y:a?b.x:b.y,z:b.z}})};t=a.pointCameraDistance=function(b,n){var h=n.options.chart.options3d,a=n.plotWidth/2;n=n.plotHeight/2;h=v(h.depth,1)*v(h.viewDistance,0)+h.depth;return Math.sqrt(Math.pow(a-v(b.plotX,b.x),2)+Math.pow(n-v(b.plotY,b.y),2)+Math.pow(h-v(b.plotZ,b.z),2))};var l=a.shapeArea=function(b){var a=0,h;for(h=0;h<b.length;h++){var l=(h+1)%b.length;a+=b[h].x*b[l].y-b[l].x*b[h].y}return a/
2};a=a.shapeArea3d=function(b,a,h){return l(z(b,a,h))};return{perspective:z,perspective3D:p,pointCameraDistance:t,shapeArea:l,shapeArea3D:a}});G(a,"Core/Renderer/SVG/SVGRenderer3D.js",[a["Core/Color.js"],a["Core/Globals.js"],a["Extensions/Math3D.js"],a["Core/Renderer/SVG/SVGElement.js"],a["Core/Renderer/SVG/SVGRenderer.js"],a["Core/Utilities.js"]],function(a,t,v,b,p,z){function l(c,e,f,J,b,w,K,d){var g=[],u=w-b;return w>b&&w-b>Math.PI/2+.0001?(g=g.concat(l(c,e,f,J,b,b+Math.PI/2,K,d)),g=g.concat(l(c,
e,f,J,b+Math.PI/2,w,K,d))):w<b&&b-w>Math.PI/2+.0001?(g=g.concat(l(c,e,f,J,b,b-Math.PI/2,K,d)),g=g.concat(l(c,e,f,J,b-Math.PI/2,w,K,d))):[["C",c+f*Math.cos(b)-f*E*u*Math.sin(b)+K,e+J*Math.sin(b)+J*E*u*Math.cos(b)+d,c+f*Math.cos(w)+f*E*u*Math.sin(w)+K,e+J*Math.sin(w)-J*E*u*Math.cos(w)+d,c+f*Math.cos(w)+K,e+J*Math.sin(w)+d]]}var F=a.parse,n=v.perspective,h=v.shapeArea,x=z.animObject,d=z.defined,I=z.extend,m=z.merge,k=z.objectEach,c=z.pick,q=Math.cos,r=Math.PI,e=Math.sin,B=t.charts,O=t.deg2rad;var E=
4*(Math.sqrt(2)-1)/3/(r/2);p.prototype.toLinePath=function(c,b){var f=[];c.forEach(function(c){f.push(["L",c.x,c.y])});c.length&&(f[0][0]="M",b&&f.push(["Z"]));return f};p.prototype.toLineSegments=function(c){var g=[],f=!0;c.forEach(function(c){g.push(f?["M",c.x,c.y]:["L",c.x,c.y]);f=!f});return g};p.prototype.face3d=function(g){var e=this,f=this.createElement("path");f.vertexes=[];f.insidePlotArea=!1;f.enabled=!0;f.attr=function(f){if("object"===typeof f&&(d(f.enabled)||d(f.vertexes)||d(f.insidePlotArea))){this.enabled=
c(f.enabled,this.enabled);this.vertexes=c(f.vertexes,this.vertexes);this.insidePlotArea=c(f.insidePlotArea,this.insidePlotArea);delete f.enabled;delete f.vertexes;delete f.insidePlotArea;var g=n(this.vertexes,B[e.chartIndex],this.insidePlotArea),w=e.toLinePath(g,!0);g=h(g);g=this.enabled&&0<g?"visible":"hidden";f.d=w;f.visibility=g}return b.prototype.attr.apply(this,arguments)};f.animate=function(f){if("object"===typeof f&&(d(f.enabled)||d(f.vertexes)||d(f.insidePlotArea))){this.enabled=c(f.enabled,
this.enabled);this.vertexes=c(f.vertexes,this.vertexes);this.insidePlotArea=c(f.insidePlotArea,this.insidePlotArea);delete f.enabled;delete f.vertexes;delete f.insidePlotArea;var g=n(this.vertexes,B[e.chartIndex],this.insidePlotArea),w=e.toLinePath(g,!0);g=h(g);g=this.enabled&&0<g?"visible":"hidden";f.d=w;this.attr("visibility",g)}return b.prototype.animate.apply(this,arguments)};return f.attr(g)};p.prototype.polyhedron=function(c){var g=this,f=this.g(),e=f.destroy;this.styledMode||f.attr({"stroke-linejoin":"round"});
f.faces=[];f.destroy=function(){for(var c=0;c<f.faces.length;c++)f.faces[c].destroy();return e.call(this)};f.attr=function(c,e,K,P){if("object"===typeof c&&d(c.faces)){for(;f.faces.length>c.faces.length;)f.faces.pop().destroy();for(;f.faces.length<c.faces.length;)f.faces.push(g.face3d().add(f));for(var w=0;w<c.faces.length;w++)g.styledMode&&delete c.faces[w].fill,f.faces[w].attr(c.faces[w],null,K,P);delete c.faces}return b.prototype.attr.apply(this,arguments)};f.animate=function(c,e,d){if(c&&c.faces){for(;f.faces.length>
c.faces.length;)f.faces.pop().destroy();for(;f.faces.length<c.faces.length;)f.faces.push(g.face3d().add(f));for(var w=0;w<c.faces.length;w++)f.faces[w].animate(c.faces[w],e,d);delete c.faces}return b.prototype.animate.apply(this,arguments)};return f.attr(c)};a={initArgs:function(c){var g=this,f=g.renderer,e=f[g.pathType+"Path"](c),b=e.zIndexes;g.parts.forEach(function(c){g[c]=f.path(e[c]).attr({"class":"highcharts-3d-"+c,zIndex:b[c]||0}).add(g)});g.attr({"stroke-linejoin":"round",zIndex:b.group});
g.originalDestroy=g.destroy;g.destroy=g.destroyParts;g.forcedSides=e.forcedSides},singleSetterForParts:function(c,e,f,b,d,w){var g={};b=[null,null,b||"attr",d,w];var r=f&&f.zIndexes;f?(r&&r.group&&this.attr({zIndex:r.group}),k(f,function(e,u){g[u]={};g[u][c]=e;r&&(g[u].zIndex=f.zIndexes[u]||0)}),b[1]=g):(g[c]=e,b[0]=g);return this.processParts.apply(this,b)},processParts:function(g,e,f,b,d){var w=this;w.parts.forEach(function(r){e&&(g=c(e[r],!1));if(!1!==g)w[r][f](g,b,d)});return w},destroyParts:function(){this.processParts(null,
null,"destroy");return this.originalDestroy()}};var H=m(a,{parts:["front","top","side"],pathType:"cuboid",attr:function(c,e,f,r){if("string"===typeof c&&"undefined"!==typeof e){var g=c;c={};c[g]=e}return c.shapeArgs||d(c.x)?this.singleSetterForParts("d",null,this.renderer[this.pathType+"Path"](c.shapeArgs||c)):b.prototype.attr.call(this,c,void 0,f,r)},animate:function(c,e,f){if(d(c.x)&&d(c.y)){c=this.renderer[this.pathType+"Path"](c);var g=c.forcedSides;this.singleSetterForParts("d",null,c,"animate",
e,f);this.attr({zIndex:c.zIndexes.group});g!==this.forcedSides&&(this.forcedSides=g,H.fillSetter.call(this,this.fill))}else b.prototype.animate.call(this,c,e,f);return this},fillSetter:function(c){this.forcedSides=this.forcedSides||[];this.singleSetterForParts("fill",null,{front:c,top:F(c).brighten(0<=this.forcedSides.indexOf("top")?0:.1).get(),side:F(c).brighten(0<=this.forcedSides.indexOf("side")?0:-.1).get()});this.color=this.fill=c;return this}});p.prototype.elements3d={base:a,cuboid:H};p.prototype.element3d=
function(c,e){var f=this.g();I(f,this.elements3d[c]);f.initArgs(e);return f};p.prototype.cuboid=function(c){return this.element3d("cuboid",c)};p.prototype.cuboidPath=function(c){function e(c){return 0===r&&1<c&&6>c?{x:C[c].x,y:C[c].y+10,z:C[c].z}:C[0].x===C[7].x&&4<=c?{x:C[c].x+10,y:C[c].y,z:C[c].z}:0===N&&2>c||5<c?{x:C[c].x,y:C[c].y,z:C[c].z+10}:C[c]}function f(c){return C[c]}var g=c.x,b=c.y,d=c.z||0,r=c.height,q=c.width,N=c.depth,u=B[this.chartIndex],y=u.options.chart.options3d.alpha,k=0,C=[{x:g,
y:b,z:d},{x:g+q,y:b,z:d},{x:g+q,y:b+r,z:d},{x:g,y:b+r,z:d},{x:g,y:b+r,z:d+N},{x:g+q,y:b+r,z:d+N},{x:g+q,y:b,z:d+N},{x:g,y:b,z:d+N}],a=[];C=n(C,u,c.insidePlotArea);var A=function(c,u,g){var b=[[],-1],d=c.map(f),y=u.map(f);c=c.map(e);u=u.map(e);0>h(d)?b=[d,0]:0>h(y)?b=[y,1]:g&&(a.push(g),b=0>h(c)?[d,0]:0>h(u)?[y,1]:[d,0]);return b};var D=A([3,2,1,0],[7,6,5,4],"front");c=D[0];var m=D[1];D=A([1,6,7,0],[4,5,2,3],"top");q=D[0];var l=D[1];D=A([1,2,5,6],[0,7,4,3],"side");A=D[0];D=D[1];1===D?k+=1E6*(u.plotWidth-
g):D||(k+=1E6*g);k+=10*(!l||0<=y&&180>=y||360>y&&357.5<y?u.plotHeight-b:10+b);1===m?k+=100*d:m||(k+=100*(1E3-d));return{front:this.toLinePath(c,!0),top:this.toLinePath(q,!0),side:this.toLinePath(A,!0),zIndexes:{group:Math.round(k)},forcedSides:a,isFront:m,isTop:l}};p.prototype.arc3d=function(e){function g(c){var f=!1,e={},b;c=m(c);for(b in c)-1!==r.indexOf(b)&&(e[b]=c[b],delete c[b],f=!0);return f?[e,c]:!1}var f=this.g(),d=f.renderer,r="x y r innerR start end depth".split(" ");e=m(e);e.alpha=(e.alpha||
0)*O;e.beta=(e.beta||0)*O;f.top=d.path();f.side1=d.path();f.side2=d.path();f.inn=d.path();f.out=d.path();f.onAdd=function(){var c=f.parentGroup,e=f.attr("class");f.top.add(f);["out","inn","side1","side2"].forEach(function(b){f[b].attr({"class":e+" highcharts-3d-side"}).add(c)})};["addClass","removeClass"].forEach(function(c){f[c]=function(){var e=arguments;["top","out","inn","side1","side2"].forEach(function(b){f[b][c].apply(f[b],e)})}});f.setPaths=function(c){var e=f.renderer.arc3dPath(c),b=100*
e.zTop;f.attribs=c;f.top.attr({d:e.top,zIndex:e.zTop});f.inn.attr({d:e.inn,zIndex:e.zInn});f.out.attr({d:e.out,zIndex:e.zOut});f.side1.attr({d:e.side1,zIndex:e.zSide1});f.side2.attr({d:e.side2,zIndex:e.zSide2});f.zIndex=b;f.attr({zIndex:b});c.center&&(f.top.setRadialReference(c.center),delete c.center)};f.setPaths(e);f.fillSetter=function(c){var e=F(c).brighten(-.1).get();this.fill=c;this.side1.attr({fill:e});this.side2.attr({fill:e});this.inn.attr({fill:e});this.out.attr({fill:e});this.top.attr({fill:c});
return this};["opacity","translateX","translateY","visibility"].forEach(function(c){f[c+"Setter"]=function(c,e){f[e]=c;["out","inn","side1","side2","top"].forEach(function(b){f[b].attr(e,c)})}});f.attr=function(c){var e;if("object"===typeof c&&(e=g(c))){var d=e[0];arguments[0]=e[1];I(f.attribs,d);f.setPaths(f.attribs)}return b.prototype.attr.apply(f,arguments)};f.animate=function(e,d,r){var q=this.attribs,u="data-"+Math.random().toString(26).substring(2,9);delete e.center;delete e.z;delete e.alpha;
delete e.beta;var y=x(c(d,this.renderer.globalAnimation));if(y.duration){d=g(e);f[u]=0;e[u]=1;f[u+"Setter"]=t.noop;if(d){var k=d[0];y.step=function(e,f){function b(e){return q[e]+(c(k[e],q[e])-q[e])*f.pos}f.prop===u&&f.elem.setPaths(m(q,{x:b("x"),y:b("y"),r:b("r"),innerR:b("innerR"),start:b("start"),end:b("end"),depth:b("depth")}))}}d=y}return b.prototype.animate.call(this,e,d,r)};f.destroy=function(){this.top.destroy();this.out.destroy();this.inn.destroy();this.side1.destroy();this.side2.destroy();
return b.prototype.destroy.call(this)};f.hide=function(){this.top.hide();this.out.hide();this.inn.hide();this.side1.hide();this.side2.hide()};f.show=function(c){this.top.show(c);this.out.show(c);this.inn.show(c);this.side1.show(c);this.side2.show(c)};return f};p.prototype.arc3dPath=function(c){function b(c){c%=2*Math.PI;c>Math.PI&&(c=2*Math.PI-c);return c}var f=c.x,d=c.y,g=c.start,k=c.end-.00001,h=c.r,a=c.innerR||0,m=c.depth||0,u=c.alpha,y=c.beta,M=Math.cos(g),C=Math.sin(g);c=Math.cos(k);var L=Math.sin(k),
A=h*Math.cos(y);h*=Math.cos(u);var D=a*Math.cos(y),n=a*Math.cos(u);a=m*Math.sin(y);var B=m*Math.sin(u);m=[["M",f+A*M,d+h*C]];m=m.concat(l(f,d,A,h,g,k,0,0));m.push(["L",f+D*c,d+n*L]);m=m.concat(l(f,d,D,n,k,g,0,0));m.push(["Z"]);var x=0<y?Math.PI/2:0;y=0<u?0:Math.PI/2;x=g>-x?g:k>-x?-x:g;var E=k<r-y?k:g<r-y?r-y:k,H=2*r-y;u=[["M",f+A*q(x),d+h*e(x)]];u=u.concat(l(f,d,A,h,x,E,0,0));k>H&&g<H?(u.push(["L",f+A*q(E)+a,d+h*e(E)+B]),u=u.concat(l(f,d,A,h,E,H,a,B)),u.push(["L",f+A*q(H),d+h*e(H)]),u=u.concat(l(f,
d,A,h,H,k,0,0)),u.push(["L",f+A*q(k)+a,d+h*e(k)+B]),u=u.concat(l(f,d,A,h,k,H,a,B)),u.push(["L",f+A*q(H),d+h*e(H)]),u=u.concat(l(f,d,A,h,H,E,0,0))):k>r-y&&g<r-y&&(u.push(["L",f+A*Math.cos(E)+a,d+h*Math.sin(E)+B]),u=u.concat(l(f,d,A,h,E,k,a,B)),u.push(["L",f+A*Math.cos(k),d+h*Math.sin(k)]),u=u.concat(l(f,d,A,h,k,E,0,0)));u.push(["L",f+A*Math.cos(E)+a,d+h*Math.sin(E)+B]);u=u.concat(l(f,d,A,h,E,x,a,B));u.push(["Z"]);y=[["M",f+D*M,d+n*C]];y=y.concat(l(f,d,D,n,g,k,0,0));y.push(["L",f+D*Math.cos(k)+a,d+
n*Math.sin(k)+B]);y=y.concat(l(f,d,D,n,k,g,a,B));y.push(["Z"]);M=[["M",f+A*M,d+h*C],["L",f+A*M+a,d+h*C+B],["L",f+D*M+a,d+n*C+B],["L",f+D*M,d+n*C],["Z"]];f=[["M",f+A*c,d+h*L],["L",f+A*c+a,d+h*L+B],["L",f+D*c+a,d+n*L+B],["L",f+D*c,d+n*L],["Z"]];L=Math.atan2(B,-a);d=Math.abs(k+L);c=Math.abs(g+L);g=Math.abs((g+k)/2+L);d=b(d);c=b(c);g=b(g);g*=1E5;k=1E5*c;d*=1E5;return{top:m,zTop:1E5*Math.PI+1,out:u,zOut:Math.max(g,k,d),inn:y,zInn:Math.max(g,k,d),side1:M,zSide1:.99*d,side2:f,zSide2:.99*k}};return p});G(a,
"Core/Axis/Tick3D.js",[a["Core/Utilities.js"]],function(a){var t=a.addEvent,v=a.extend,b=a.wrap;return function(){function a(){}a.compose=function(p){t(p,"afterGetLabelPosition",a.onAfterGetLabelPosition);b(p.prototype,"getMarkPath",a.wrapGetMarkPath)};a.onAfterGetLabelPosition=function(b){var a=this.axis.axis3D;a&&v(b.pos,a.fix3dPosition(b.pos))};a.wrapGetMarkPath=function(b){var a=this.axis.axis3D,t=b.apply(this,[].slice.call(arguments,1));if(a){var n=t[0],h=t[1];if("M"===n[0]&&"L"===h[0])return a=
[a.fix3dPosition({x:n[1],y:n[2],z:0}),a.fix3dPosition({x:h[1],y:h[2],z:0})],this.axis.chart.renderer.toLineSegments(a)}return t};return a}()});G(a,"Core/Axis/Axis3D.js",[a["Core/Globals.js"],a["Extensions/Math3D.js"],a["Core/Axis/Tick.js"],a["Core/Axis/Tick3D.js"],a["Core/Utilities.js"]],function(a,t,v,b,p){var z=t.perspective,l=t.perspective3D,F=t.shapeArea,n=p.addEvent,h=p.merge,x=p.pick,d=p.wrap,I=a.deg2rad,m=function(){function d(c){this.axis=c}d.prototype.fix3dPosition=function(c,d){var b=this.axis,
e=b.chart;if("colorAxis"===b.coll||!e.chart3d||!e.is3d())return c;var a=I*e.options.chart.options3d.alpha,k=I*e.options.chart.options3d.beta,h=x(d&&b.options.title.position3d,b.options.labels.position3d);d=x(d&&b.options.title.skew3d,b.options.labels.skew3d);var q=e.chart3d.frame3d,g=e.plotLeft,m=e.plotWidth+g,f=e.plotTop,n=e.plotHeight+f;e=!1;var l=0,t=0,p={x:0,y:1,z:0};c=b.axis3D.swapZ({x:c.x,y:c.y,z:0});if(b.isZAxis)if(b.opposite){if(null===q.axes.z.top)return{};t=c.y-f;c.x=q.axes.z.top.x;c.y=
q.axes.z.top.y;g=q.axes.z.top.xDir;e=!q.top.frontFacing}else{if(null===q.axes.z.bottom)return{};t=c.y-n;c.x=q.axes.z.bottom.x;c.y=q.axes.z.bottom.y;g=q.axes.z.bottom.xDir;e=!q.bottom.frontFacing}else if(b.horiz)if(b.opposite){if(null===q.axes.x.top)return{};t=c.y-f;c.y=q.axes.x.top.y;c.z=q.axes.x.top.z;g=q.axes.x.top.xDir;e=!q.top.frontFacing}else{if(null===q.axes.x.bottom)return{};t=c.y-n;c.y=q.axes.x.bottom.y;c.z=q.axes.x.bottom.z;g=q.axes.x.bottom.xDir;e=!q.bottom.frontFacing}else if(b.opposite){if(null===
q.axes.y.right)return{};l=c.x-m;c.x=q.axes.y.right.x;c.z=q.axes.y.right.z;g=q.axes.y.right.xDir;g={x:g.z,y:g.y,z:-g.x}}else{if(null===q.axes.y.left)return{};l=c.x-g;c.x=q.axes.y.left.x;c.z=q.axes.y.left.z;g=q.axes.y.left.xDir}"chart"!==h&&("flap"===h?b.horiz?(k=Math.sin(a),a=Math.cos(a),b.opposite&&(k=-k),e&&(k=-k),p={x:g.z*k,y:a,z:-g.x*k}):g={x:Math.cos(k),y:0,z:Math.sin(k)}:"ortho"===h?b.horiz?(p=Math.cos(a),h=Math.sin(k)*p,a=-Math.sin(a),k=-p*Math.cos(k),p={x:g.y*k-g.z*a,y:g.z*h-g.x*k,z:g.x*a-
g.y*h},a=1/Math.sqrt(p.x*p.x+p.y*p.y+p.z*p.z),e&&(a=-a),p={x:a*p.x,y:a*p.y,z:a*p.z}):g={x:Math.cos(k),y:0,z:Math.sin(k)}:b.horiz?p={x:Math.sin(k)*Math.sin(a),y:Math.cos(a),z:-Math.cos(k)*Math.sin(a)}:g={x:Math.cos(k),y:0,z:Math.sin(k)});c.x+=l*g.x+t*p.x;c.y+=l*g.y+t*p.y;c.z+=l*g.z+t*p.z;e=z([c],b.chart)[0];d&&(0>F(z([c,{x:c.x+g.x,y:c.y+g.y,z:c.z+g.z},{x:c.x+p.x,y:c.y+p.y,z:c.z+p.z}],b.chart))&&(g={x:-g.x,y:-g.y,z:-g.z}),c=z([{x:c.x,y:c.y,z:c.z},{x:c.x+g.x,y:c.y+g.y,z:c.z+g.z},{x:c.x+p.x,y:c.y+p.y,
z:c.z+p.z}],b.chart),e.matrix=[c[1].x-c[0].x,c[1].y-c[0].y,c[2].x-c[0].x,c[2].y-c[0].y,e.x,e.y],e.matrix[4]-=e.x*e.matrix[0]+e.y*e.matrix[2],e.matrix[5]-=e.x*e.matrix[1]+e.y*e.matrix[3]);return e};d.prototype.swapZ=function(c,b){var d=this.axis;return d.isZAxis?(b=b?0:d.chart.plotLeft,{x:b+c.z,y:c.y,z:c.x-b}):c};return d}();return function(){function a(){}a.compose=function(c){h(!0,c.defaultOptions,a.defaultOptions);c.keepProps.push("axis3D");n(c,"init",a.onInit);n(c,"afterSetOptions",a.onAfterSetOptions);
n(c,"drawCrosshair",a.onDrawCrosshair);n(c,"destroy",a.onDestroy);c=c.prototype;d(c,"getLinePath",a.wrapGetLinePath);d(c,"getPlotBandPath",a.wrapGetPlotBandPath);d(c,"getPlotLinePath",a.wrapGetPlotLinePath);d(c,"getSlotWidth",a.wrapGetSlotWidth);d(c,"getTitlePosition",a.wrapGetTitlePosition);b.compose(v)};a.onAfterSetOptions=function(){var c=this.chart,b=this.options;c.is3d&&c.is3d()&&"colorAxis"!==this.coll&&(b.tickWidth=x(b.tickWidth,0),b.gridLineWidth=x(b.gridLineWidth,1))};a.onDestroy=function(){["backFrame",
"bottomFrame","sideFrame"].forEach(function(c){this[c]&&(this[c]=this[c].destroy())},this)};a.onDrawCrosshair=function(c){this.chart.is3d()&&"colorAxis"!==this.coll&&c.point&&(c.point.crosshairPos=this.isXAxis?c.point.axisXpos:this.len-c.point.axisYpos)};a.onInit=function(){this.axis3D||(this.axis3D=new m(this))};a.wrapGetLinePath=function(c){return this.chart.is3d()&&"colorAxis"!==this.coll?[]:c.apply(this,[].slice.call(arguments,1))};a.wrapGetPlotBandPath=function(c){if(!this.chart.is3d()||"colorAxis"===
this.coll)return c.apply(this,[].slice.call(arguments,1));var b=arguments,d=b[2],e=[];b=this.getPlotLinePath({value:b[1]});d=this.getPlotLinePath({value:d});if(b&&d)for(var a=0;a<b.length;a+=2){var h=b[a],k=b[a+1],m=d[a],g=d[a+1];"M"===h[0]&&"L"===k[0]&&"M"===m[0]&&"L"===g[0]&&e.push(h,k,g,["L",m[1],m[2]],["Z"])}return e};a.wrapGetPlotLinePath=function(c){var b=this.axis3D,d=this.chart,e=c.apply(this,[].slice.call(arguments,1));if("colorAxis"===this.coll||!d.chart3d||!d.is3d()||null===e)return e;
var a=d.options.chart.options3d,h=this.isZAxis?d.plotWidth:a.depth;a=d.chart3d.frame3d;var k=e[0],m=e[1];e=[];"M"===k[0]&&"L"===m[0]&&(b=[b.swapZ({x:k[1],y:k[2],z:0}),b.swapZ({x:k[1],y:k[2],z:h}),b.swapZ({x:m[1],y:m[2],z:0}),b.swapZ({x:m[1],y:m[2],z:h})],this.horiz?(this.isZAxis?(a.left.visible&&e.push(b[0],b[2]),a.right.visible&&e.push(b[1],b[3])):(a.front.visible&&e.push(b[0],b[2]),a.back.visible&&e.push(b[1],b[3])),a.top.visible&&e.push(b[0],b[1]),a.bottom.visible&&e.push(b[2],b[3])):(a.front.visible&&
e.push(b[0],b[2]),a.back.visible&&e.push(b[1],b[3]),a.left.visible&&e.push(b[0],b[1]),a.right.visible&&e.push(b[2],b[3])),e=z(e,this.chart,!1));return d.renderer.toLineSegments(e)};a.wrapGetSlotWidth=function(c,b){var d=this.chart,e=this.ticks,a=this.gridGroup;if(this.categories&&d.frameShapes&&d.is3d()&&a&&b&&b.label){a=a.element.childNodes[0].getBBox();var k=d.frameShapes.left.getBBox(),h=d.options.chart.options3d;d={x:d.plotWidth/2,y:d.plotHeight/2,z:h.depth/2,vd:x(h.depth,1)*x(h.viewDistance,
0)};var m,g;h=b.pos;var n=e[h-1];e=e[h+1];0!==h&&n&&n.label.xy&&(m=l({x:n.label.xy.x,y:n.label.xy.y,z:null},d,d.vd));e&&e.label.xy&&(g=l({x:e.label.xy.x,y:e.label.xy.y,z:null},d,d.vd));e={x:b.label.xy.x,y:b.label.xy.y,z:null};e=l(e,d,d.vd);return Math.abs(m?e.x-m.x:g?g.x-e.x:a.x-k.x)}return c.apply(this,[].slice.call(arguments,1))};a.wrapGetTitlePosition=function(c){var b=c.apply(this,[].slice.call(arguments,1));return this.axis3D?this.axis3D.fix3dPosition(b,!0):b};a.defaultOptions={labels:{position3d:"offset",
skew3d:!1},title:{position3d:null,skew3d:null}};return a}()});G(a,"Core/Axis/ZAxis.js",[a["Core/Axis/Axis.js"],a["Core/Utilities.js"]],function(a,t){var v=this&&this.__extends||function(){var b=function(a,d){b=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(b,d){b.__proto__=d}||function(b,d){for(var a in d)d.hasOwnProperty(a)&&(b[a]=d[a])};return b(a,d)};return function(a,d){function h(){this.constructor=a}b(a,d);a.prototype=null===d?Object.create(d):(h.prototype=d.prototype,new h)}}(),
b=t.addEvent,p=t.merge,z=t.pick,l=t.splat,F=function(){function a(){}a.compose=function(h){b(h,"afterGetAxes",a.onAfterGetAxes);h=h.prototype;h.addZAxis=a.wrapAddZAxis;h.collectionsWithInit.zAxis=[h.addZAxis];h.collectionsWithUpdate.push("zAxis")};a.onAfterGetAxes=function(){var b=this,d=this.options;d=d.zAxis=l(d.zAxis||{});b.is3d()&&(b.zAxis=[],d.forEach(function(d,a){d.index=a;d.isX=!0;b.addZAxis(d).setScale()}))};a.wrapAddZAxis=function(b){return new n(this,b)};return a}(),n=function(b){function a(d,
a){d=b.call(this,d,a)||this;d.isZAxis=!0;return d}v(a,b);a.prototype.getSeriesExtremes=function(){var b=this,a=b.chart;b.hasVisibleSeries=!1;b.dataMin=b.dataMax=b.ignoreMinPadding=b.ignoreMaxPadding=void 0;b.stacking&&b.stacking.buildStacks();b.series.forEach(function(d){!d.visible&&a.options.chart&&a.options.chart.ignoreHiddenSeries||(b.hasVisibleSeries=!0,d=d.zData,d.length&&(b.dataMin=Math.min(z(b.dataMin,d[0]),Math.min.apply(null,d)),b.dataMax=Math.max(z(b.dataMax,d[0]),Math.max.apply(null,d))))})};
a.prototype.setAxisSize=function(){var d=this.chart;b.prototype.setAxisSize.call(this);this.width=this.len=d.options.chart&&d.options.chart.options3d&&d.options.chart.options3d.depth||0;this.right=d.chartWidth-this.width-this.left};a.prototype.setOptions=function(d){d=p({offset:0,lineWidth:0},d);b.prototype.setOptions.call(this,d);this.coll="zAxis"};a.ZChartComposition=F;return a}(a);return n});G(a,"Core/Chart/Chart3D.js",[a["Core/Axis/Axis.js"],a["Core/Axis/Axis3D.js"],a["Core/Chart/Chart.js"],a["Core/Globals.js"],
a["Extensions/Math3D.js"],a["Core/Options.js"],a["Core/Utilities.js"],a["Core/Axis/ZAxis.js"]],function(a,t,v,b,p,z,l,F){var n=p.perspective,h=p.shapeArea3D,x=z.defaultOptions,d=l.addEvent;p=l.Fx;var I=l.isArray,m=l.merge,k=l.pick,c=l.wrap,q;(function(a){function e(c){this.is3d()&&"scatter"===c.options.type&&(c.options.type="scatter3d")}function q(){if(this.chart3d&&this.is3d()){var c=this.renderer,d=this.options.chart.options3d,a=this.chart3d.get3dFrame(),e=this.plotLeft,f=this.plotLeft+this.plotWidth,
g=this.plotTop,h=this.plotTop+this.plotHeight;d=d.depth;var k=e-(a.left.visible?a.left.size:0),m=f+(a.right.visible?a.right.size:0),n=g-(a.top.visible?a.top.size:0),q=h+(a.bottom.visible?a.bottom.size:0),l=0-(a.front.visible?a.front.size:0),r=d+(a.back.visible?a.back.size:0),p=this.hasRendered?"animate":"attr";this.chart3d.frame3d=a;this.frameShapes||(this.frameShapes={bottom:c.polyhedron().add(),top:c.polyhedron().add(),left:c.polyhedron().add(),right:c.polyhedron().add(),back:c.polyhedron().add(),
front:c.polyhedron().add()});this.frameShapes.bottom[p]({"class":"highcharts-3d-frame highcharts-3d-frame-bottom",zIndex:a.bottom.frontFacing?-1E3:1E3,faces:[{fill:b.color(a.bottom.color).brighten(.1).get(),vertexes:[{x:k,y:q,z:l},{x:m,y:q,z:l},{x:m,y:q,z:r},{x:k,y:q,z:r}],enabled:a.bottom.visible},{fill:b.color(a.bottom.color).brighten(.1).get(),vertexes:[{x:e,y:h,z:d},{x:f,y:h,z:d},{x:f,y:h,z:0},{x:e,y:h,z:0}],enabled:a.bottom.visible},{fill:b.color(a.bottom.color).brighten(-.1).get(),vertexes:[{x:k,
y:q,z:l},{x:k,y:q,z:r},{x:e,y:h,z:d},{x:e,y:h,z:0}],enabled:a.bottom.visible&&!a.left.visible},{fill:b.color(a.bottom.color).brighten(-.1).get(),vertexes:[{x:m,y:q,z:r},{x:m,y:q,z:l},{x:f,y:h,z:0},{x:f,y:h,z:d}],enabled:a.bottom.visible&&!a.right.visible},{fill:b.color(a.bottom.color).get(),vertexes:[{x:m,y:q,z:l},{x:k,y:q,z:l},{x:e,y:h,z:0},{x:f,y:h,z:0}],enabled:a.bottom.visible&&!a.front.visible},{fill:b.color(a.bottom.color).get(),vertexes:[{x:k,y:q,z:r},{x:m,y:q,z:r},{x:f,y:h,z:d},{x:e,y:h,z:d}],
enabled:a.bottom.visible&&!a.back.visible}]});this.frameShapes.top[p]({"class":"highcharts-3d-frame highcharts-3d-frame-top",zIndex:a.top.frontFacing?-1E3:1E3,faces:[{fill:b.color(a.top.color).brighten(.1).get(),vertexes:[{x:k,y:n,z:r},{x:m,y:n,z:r},{x:m,y:n,z:l},{x:k,y:n,z:l}],enabled:a.top.visible},{fill:b.color(a.top.color).brighten(.1).get(),vertexes:[{x:e,y:g,z:0},{x:f,y:g,z:0},{x:f,y:g,z:d},{x:e,y:g,z:d}],enabled:a.top.visible},{fill:b.color(a.top.color).brighten(-.1).get(),vertexes:[{x:k,y:n,
z:r},{x:k,y:n,z:l},{x:e,y:g,z:0},{x:e,y:g,z:d}],enabled:a.top.visible&&!a.left.visible},{fill:b.color(a.top.color).brighten(-.1).get(),vertexes:[{x:m,y:n,z:l},{x:m,y:n,z:r},{x:f,y:g,z:d},{x:f,y:g,z:0}],enabled:a.top.visible&&!a.right.visible},{fill:b.color(a.top.color).get(),vertexes:[{x:k,y:n,z:l},{x:m,y:n,z:l},{x:f,y:g,z:0},{x:e,y:g,z:0}],enabled:a.top.visible&&!a.front.visible},{fill:b.color(a.top.color).get(),vertexes:[{x:m,y:n,z:r},{x:k,y:n,z:r},{x:e,y:g,z:d},{x:f,y:g,z:d}],enabled:a.top.visible&&
!a.back.visible}]});this.frameShapes.left[p]({"class":"highcharts-3d-frame highcharts-3d-frame-left",zIndex:a.left.frontFacing?-1E3:1E3,faces:[{fill:b.color(a.left.color).brighten(.1).get(),vertexes:[{x:k,y:q,z:l},{x:e,y:h,z:0},{x:e,y:h,z:d},{x:k,y:q,z:r}],enabled:a.left.visible&&!a.bottom.visible},{fill:b.color(a.left.color).brighten(.1).get(),vertexes:[{x:k,y:n,z:r},{x:e,y:g,z:d},{x:e,y:g,z:0},{x:k,y:n,z:l}],enabled:a.left.visible&&!a.top.visible},{fill:b.color(a.left.color).brighten(-.1).get(),
vertexes:[{x:k,y:q,z:r},{x:k,y:n,z:r},{x:k,y:n,z:l},{x:k,y:q,z:l}],enabled:a.left.visible},{fill:b.color(a.left.color).brighten(-.1).get(),vertexes:[{x:e,y:g,z:d},{x:e,y:h,z:d},{x:e,y:h,z:0},{x:e,y:g,z:0}],enabled:a.left.visible},{fill:b.color(a.left.color).get(),vertexes:[{x:k,y:q,z:l},{x:k,y:n,z:l},{x:e,y:g,z:0},{x:e,y:h,z:0}],enabled:a.left.visible&&!a.front.visible},{fill:b.color(a.left.color).get(),vertexes:[{x:k,y:n,z:r},{x:k,y:q,z:r},{x:e,y:h,z:d},{x:e,y:g,z:d}],enabled:a.left.visible&&!a.back.visible}]});
this.frameShapes.right[p]({"class":"highcharts-3d-frame highcharts-3d-frame-right",zIndex:a.right.frontFacing?-1E3:1E3,faces:[{fill:b.color(a.right.color).brighten(.1).get(),vertexes:[{x:m,y:q,z:r},{x:f,y:h,z:d},{x:f,y:h,z:0},{x:m,y:q,z:l}],enabled:a.right.visible&&!a.bottom.visible},{fill:b.color(a.right.color).brighten(.1).get(),vertexes:[{x:m,y:n,z:l},{x:f,y:g,z:0},{x:f,y:g,z:d},{x:m,y:n,z:r}],enabled:a.right.visible&&!a.top.visible},{fill:b.color(a.right.color).brighten(-.1).get(),vertexes:[{x:f,
y:g,z:0},{x:f,y:h,z:0},{x:f,y:h,z:d},{x:f,y:g,z:d}],enabled:a.right.visible},{fill:b.color(a.right.color).brighten(-.1).get(),vertexes:[{x:m,y:q,z:l},{x:m,y:n,z:l},{x:m,y:n,z:r},{x:m,y:q,z:r}],enabled:a.right.visible},{fill:b.color(a.right.color).get(),vertexes:[{x:m,y:n,z:l},{x:m,y:q,z:l},{x:f,y:h,z:0},{x:f,y:g,z:0}],enabled:a.right.visible&&!a.front.visible},{fill:b.color(a.right.color).get(),vertexes:[{x:m,y:q,z:r},{x:m,y:n,z:r},{x:f,y:g,z:d},{x:f,y:h,z:d}],enabled:a.right.visible&&!a.back.visible}]});
this.frameShapes.back[p]({"class":"highcharts-3d-frame highcharts-3d-frame-back",zIndex:a.back.frontFacing?-1E3:1E3,faces:[{fill:b.color(a.back.color).brighten(.1).get(),vertexes:[{x:m,y:q,z:r},{x:k,y:q,z:r},{x:e,y:h,z:d},{x:f,y:h,z:d}],enabled:a.back.visible&&!a.bottom.visible},{fill:b.color(a.back.color).brighten(.1).get(),vertexes:[{x:k,y:n,z:r},{x:m,y:n,z:r},{x:f,y:g,z:d},{x:e,y:g,z:d}],enabled:a.back.visible&&!a.top.visible},{fill:b.color(a.back.color).brighten(-.1).get(),vertexes:[{x:k,y:q,
z:r},{x:k,y:n,z:r},{x:e,y:g,z:d},{x:e,y:h,z:d}],enabled:a.back.visible&&!a.left.visible},{fill:b.color(a.back.color).brighten(-.1).get(),vertexes:[{x:m,y:n,z:r},{x:m,y:q,z:r},{x:f,y:h,z:d},{x:f,y:g,z:d}],enabled:a.back.visible&&!a.right.visible},{fill:b.color(a.back.color).get(),vertexes:[{x:e,y:g,z:d},{x:f,y:g,z:d},{x:f,y:h,z:d},{x:e,y:h,z:d}],enabled:a.back.visible},{fill:b.color(a.back.color).get(),vertexes:[{x:k,y:q,z:r},{x:m,y:q,z:r},{x:m,y:n,z:r},{x:k,y:n,z:r}],enabled:a.back.visible}]});this.frameShapes.front[p]({"class":"highcharts-3d-frame highcharts-3d-frame-front",
zIndex:a.front.frontFacing?-1E3:1E3,faces:[{fill:b.color(a.front.color).brighten(.1).get(),vertexes:[{x:k,y:q,z:l},{x:m,y:q,z:l},{x:f,y:h,z:0},{x:e,y:h,z:0}],enabled:a.front.visible&&!a.bottom.visible},{fill:b.color(a.front.color).brighten(.1).get(),vertexes:[{x:m,y:n,z:l},{x:k,y:n,z:l},{x:e,y:g,z:0},{x:f,y:g,z:0}],enabled:a.front.visible&&!a.top.visible},{fill:b.color(a.front.color).brighten(-.1).get(),vertexes:[{x:k,y:n,z:l},{x:k,y:q,z:l},{x:e,y:h,z:0},{x:e,y:g,z:0}],enabled:a.front.visible&&!a.left.visible},
{fill:b.color(a.front.color).brighten(-.1).get(),vertexes:[{x:m,y:q,z:l},{x:m,y:n,z:l},{x:f,y:g,z:0},{x:f,y:h,z:0}],enabled:a.front.visible&&!a.right.visible},{fill:b.color(a.front.color).get(),vertexes:[{x:f,y:g,z:0},{x:e,y:g,z:0},{x:e,y:h,z:0},{x:f,y:h,z:0}],enabled:a.front.visible},{fill:b.color(a.front.color).get(),vertexes:[{x:m,y:q,z:l},{x:k,y:q,z:l},{x:k,y:n,z:l},{x:m,y:n,z:l}],enabled:a.front.visible}]})}}function l(){this.styledMode&&(this.renderer.definition({tagName:"style",textContent:".highcharts-3d-top{filter: url(#highcharts-brighter)}\n.highcharts-3d-side{filter: url(#highcharts-darker)}\n"}),
[{name:"darker",slope:.6},{name:"brighter",slope:1.4}].forEach(function(a){this.renderer.definition({tagName:"filter",id:"highcharts-"+a.name,children:[{tagName:"feComponentTransfer",children:[{tagName:"feFuncR",type:"linear",slope:a.slope},{tagName:"feFuncG",type:"linear",slope:a.slope},{tagName:"feFuncB",type:"linear",slope:a.slope}]}]})},this))}function r(){var a=this.options;this.is3d()&&(a.series||[]).forEach(function(c){"scatter"===(c.type||a.chart.type||a.chart.defaultSeriesType)&&(c.type=
"scatter3d")})}function p(){var a=this.options.chart.options3d;if(this.chart3d&&this.is3d()){a&&(a.alpha=a.alpha%360+(0<=a.alpha?0:360),a.beta=a.beta%360+(0<=a.beta?0:360));var c=this.inverted,b=this.clipBox,d=this.margin;b[c?"y":"x"]=-(d[3]||0);b[c?"x":"y"]=-(d[0]||0);b[c?"height":"width"]=this.chartWidth+(d[3]||0)+(d[1]||0);b[c?"width":"height"]=this.chartHeight+(d[0]||0)+(d[2]||0);this.scale3d=1;!0===a.fitToPlot&&(this.scale3d=this.chart3d.getScale(a.depth));this.chart3d.frame3d=this.chart3d.get3dFrame()}}
function g(){this.is3d()&&(this.isDirtyBox=!0)}function t(){this.chart3d&&this.is3d()&&(this.chart3d.frame3d=this.chart3d.get3dFrame())}function f(){this.chart3d||(this.chart3d=new z(this))}function F(a){return this.is3d()||a.apply(this,[].slice.call(arguments,1))}function v(a){var c=this.series.length;if(this.is3d())for(;c--;)a=this.series[c],a.translate(),a.render();else a.call(this)}function w(a){a.apply(this,[].slice.call(arguments,1));this.is3d()&&(this.container.className+=" highcharts-3d-chart")}
var z=function(){function a(a){this.frame3d=void 0;this.chart=a}a.prototype.get3dFrame=function(){var a=this.chart,c=a.options.chart.options3d,b=c.frame,d=a.plotLeft,e=a.plotLeft+a.plotWidth,f=a.plotTop,g=a.plotTop+a.plotHeight,m=c.depth,q=function(c){c=h(c,a);return.5<c?1:-.5>c?-1:0},l=q([{x:d,y:g,z:m},{x:e,y:g,z:m},{x:e,y:g,z:0},{x:d,y:g,z:0}]),r=q([{x:d,y:f,z:0},{x:e,y:f,z:0},{x:e,y:f,z:m},{x:d,y:f,z:m}]),p=q([{x:d,y:f,z:0},{x:d,y:f,z:m},{x:d,y:g,z:m},{x:d,y:g,z:0}]),t=q([{x:e,y:f,z:m},{x:e,y:f,
z:0},{x:e,y:g,z:0},{x:e,y:g,z:m}]),x=q([{x:d,y:g,z:0},{x:e,y:g,z:0},{x:e,y:f,z:0},{x:d,y:f,z:0}]);q=q([{x:d,y:f,z:m},{x:e,y:f,z:m},{x:e,y:g,z:m},{x:d,y:g,z:m}]);var E=!1,F=!1,B=!1,w=!1;[].concat(a.xAxis,a.yAxis,a.zAxis).forEach(function(a){a&&(a.horiz?a.opposite?F=!0:E=!0:a.opposite?w=!0:B=!0)});var v=function(a,c,b){for(var d=["size","color","visible"],e={},f=0;f<d.length;f++)for(var g=d[f],h=0;h<a.length;h++)if("object"===typeof a[h]){var m=a[h][g];if("undefined"!==typeof m&&null!==m){e[g]=m;break}}a=
b;!0===e.visible||!1===e.visible?a=e.visible:"auto"===e.visible&&(a=0<c);return{size:k(e.size,1),color:k(e.color,"none"),frontFacing:0<c,visible:a}};b={axes:{},bottom:v([b.bottom,b.top,b],l,E),top:v([b.top,b.bottom,b],r,F),left:v([b.left,b.right,b.side,b],p,B),right:v([b.right,b.left,b.side,b],t,w),back:v([b.back,b.front,b],q,!0),front:v([b.front,b.back,b],x,!1)};"auto"===c.axisLabelPosition?(t=function(a,c){return a.visible!==c.visible||a.visible&&c.visible&&a.frontFacing!==c.frontFacing},c=[],t(b.left,
b.front)&&c.push({y:(f+g)/2,x:d,z:0,xDir:{x:1,y:0,z:0}}),t(b.left,b.back)&&c.push({y:(f+g)/2,x:d,z:m,xDir:{x:0,y:0,z:-1}}),t(b.right,b.front)&&c.push({y:(f+g)/2,x:e,z:0,xDir:{x:0,y:0,z:1}}),t(b.right,b.back)&&c.push({y:(f+g)/2,x:e,z:m,xDir:{x:-1,y:0,z:0}}),l=[],t(b.bottom,b.front)&&l.push({x:(d+e)/2,y:g,z:0,xDir:{x:1,y:0,z:0}}),t(b.bottom,b.back)&&l.push({x:(d+e)/2,y:g,z:m,xDir:{x:-1,y:0,z:0}}),r=[],t(b.top,b.front)&&r.push({x:(d+e)/2,y:f,z:0,xDir:{x:1,y:0,z:0}}),t(b.top,b.back)&&r.push({x:(d+e)/
2,y:f,z:m,xDir:{x:-1,y:0,z:0}}),p=[],t(b.bottom,b.left)&&p.push({z:(0+m)/2,y:g,x:d,xDir:{x:0,y:0,z:-1}}),t(b.bottom,b.right)&&p.push({z:(0+m)/2,y:g,x:e,xDir:{x:0,y:0,z:1}}),g=[],t(b.top,b.left)&&g.push({z:(0+m)/2,y:f,x:d,xDir:{x:0,y:0,z:-1}}),t(b.top,b.right)&&g.push({z:(0+m)/2,y:f,x:e,xDir:{x:0,y:0,z:1}}),d=function(c,b,d){if(0===c.length)return null;if(1===c.length)return c[0];for(var e=0,f=n(c,a,!1),g=1;g<f.length;g++)d*f[g][b]>d*f[e][b]?e=g:d*f[g][b]===d*f[e][b]&&f[g].z<f[e].z&&(e=g);return c[e]},
b.axes={y:{left:d(c,"x",-1),right:d(c,"x",1)},x:{top:d(r,"y",-1),bottom:d(l,"y",1)},z:{top:d(g,"y",-1),bottom:d(p,"y",1)}}):b.axes={y:{left:{x:d,z:0,xDir:{x:1,y:0,z:0}},right:{x:e,z:0,xDir:{x:0,y:0,z:1}}},x:{top:{y:f,z:0,xDir:{x:1,y:0,z:0}},bottom:{y:g,z:0,xDir:{x:1,y:0,z:0}}},z:{top:{x:B?e:d,y:f,xDir:B?{x:0,y:0,z:1}:{x:0,y:0,z:-1}},bottom:{x:B?e:d,y:g,xDir:B?{x:0,y:0,z:1}:{x:0,y:0,z:-1}}}};return b};a.prototype.getScale=function(a){var c=this.chart,b=c.plotLeft,d=c.plotWidth+b,e=c.plotTop,f=c.plotHeight+
e,g=b+c.plotWidth/2,h=e+c.plotHeight/2,k=Number.MAX_VALUE,m=-Number.MAX_VALUE,q=Number.MAX_VALUE,l=-Number.MAX_VALUE,r=1;var p=[{x:b,y:e,z:0},{x:b,y:e,z:a}];[0,1].forEach(function(a){p.push({x:d,y:p[a].y,z:p[a].z})});[0,1,2,3].forEach(function(a){p.push({x:p[a].x,y:f,z:p[a].z})});p=n(p,c,!1);p.forEach(function(a){k=Math.min(k,a.x);m=Math.max(m,a.x);q=Math.min(q,a.y);l=Math.max(l,a.y)});b>k&&(r=Math.min(r,1-Math.abs((b+g)/(k+g))%1));d<m&&(r=Math.min(r,(d-g)/(m-g)));e>q&&(r=0>q?Math.min(r,(e+h)/(-q+
e+h)):Math.min(r,1-(e+h)/(q+h)%1));f<l&&(r=Math.min(r,Math.abs((f-h)/(l-h))));return r};return a}();a.Composition=z;a.defaultOptions={chart:{options3d:{enabled:!1,alpha:0,beta:0,depth:100,fitToPlot:!0,viewDistance:25,axisLabelPosition:null,frame:{visible:"default",size:1,bottom:{},top:{},left:{},right:{},back:{},front:{}}}}};a.compose=function(h,k){var n=h.prototype;k=k.prototype;n.is3d=function(){return this.options.chart.options3d&&this.options.chart.options3d.enabled};n.propsRequireDirtyBox.push("chart.options3d");
n.propsRequireUpdateSeries.push("chart.options3d");k.matrixSetter=function(){if(1>this.pos&&(I(this.start)||I(this.end))){var a=this.start||[1,0,0,1,0,0],c=this.end||[1,0,0,1,0,0];var b=[];for(var d=0;6>d;d++)b.push(this.pos*c[d]+(1-this.pos)*a[d])}else b=this.end;this.elem.attr(this.prop,b,null,!0)};m(!0,x,a.defaultOptions);d(h,"init",f);d(h,"addSeries",e);d(h,"afterDrawChartBox",q);d(h,"afterGetContainer",l);d(h,"afterInit",r);d(h,"afterSetChartSize",p);d(h,"beforeRedraw",g);d(h,"beforeRender",
t);c(b.Chart.prototype,"isInsidePlot",F);c(h,"renderSeries",v);c(h,"setClassName",w)}})(q||(q={}));q.compose(v,p);F.ZChartComposition.compose(v);t.compose(a);"";return q});G(a,"Core/Series/Series3D.js",[a["Core/Globals.js"],a["Extensions/Math3D.js"],a["Core/Utilities.js"]],function(a,t,v){var b=t.perspective;t=v.addEvent;var p=v.pick;t(a.Series,"afterTranslate",function(){this.chart.is3d()&&this.translate3dPoints()});a.Series.prototype.translate3dPoints=function(){var a=this.chart,l=p(this.zAxis,
a.options.zAxis[0]),t=[],n;for(n=0;n<this.data.length;n++){var h=this.data[n];if(l&&l.translate){var x=l.logarithmic&&l.val2lin?l.val2lin(h.z):h.z;h.plotZ=l.translate(x);h.isInside=h.isInside?x>=l.min&&x<=l.max:!1}else h.plotZ=0;h.axisXpos=h.plotX;h.axisYpos=h.plotY;h.axisZpos=h.plotZ;t.push({x:h.plotX,y:h.plotY,z:h.plotZ})}a=b(t,a,!0);for(n=0;n<this.data.length;n++)h=this.data[n],l=a[n],h.plotX=l.x,h.plotY=l.y,h.plotZ=l.z}});G(a,"Series/Column3DSeries.js",[a["Core/Globals.js"],a["Extensions/Math3D.js"],
a["Extensions/Stacking.js"],a["Core/Utilities.js"]],function(a,t,v,b){function p(a,b){var c=a.series,d={},k,e=1;c.forEach(function(a){k=h(a.options.stack,b?0:c.length-1-a.index);d[k]?d[k].series.push(a):(d[k]={series:[a],position:e},e++)});d.totalStacks=e+1;return d}function z(a){var b=a.apply(this,[].slice.call(arguments,1));this.chart.is3d&&this.chart.is3d()&&(b.stroke=this.options.edgeColor||b.fill,b["stroke-width"]=h(this.options.edgeWidth,1));return b}function l(a,b,c){var d=this.chart.is3d&&
this.chart.is3d();d&&(this.options.inactiveOtherPoints=!0);a.call(this,b,c);d&&(this.options.inactiveOtherPoints=!1)}function F(a){for(var b=[],c=1;c<arguments.length;c++)b[c-1]=arguments[c];return this.series.chart.is3d()?this.graphic&&"g"!==this.graphic.element.nodeName:a.apply(this,b)}var n=t.perspective;t=b.addEvent;var h=b.pick;b=b.wrap;var x=a.Series,d=a.seriesTypes,I=a.svg;b(d.column.prototype,"translate",function(a){a.apply(this,[].slice.call(arguments,1));this.chart.is3d()&&this.translate3dShapes()});
b(x.prototype,"justifyDataLabel",function(a){return arguments[2].outside3dPlot?!1:a.apply(this,[].slice.call(arguments,1))});d.column.prototype.translate3dPoints=function(){};d.column.prototype.translate3dShapes=function(){var a=this,b=a.chart,c=a.options,d=c.depth,h=(c.stacking?c.stack||0:a.index)*(d+(c.groupZPadding||1)),e=a.borderWidth%2?.5:0,l;b.inverted&&!a.yAxis.reversed&&(e*=-1);!1!==c.grouping&&(h=0);h+=c.groupZPadding||1;a.data.forEach(function(c){c.outside3dPlot=null;if(null!==c.y){var k=
c.shapeArgs,m=c.tooltipPos,g;[["x","width"],["y","height"]].forEach(function(b){g=k[b[0]]-e;0>g&&(k[b[1]]+=k[b[0]]+e,k[b[0]]=-e,g=0);g+k[b[1]]>a[b[0]+"Axis"].len&&0!==k[b[1]]&&(k[b[1]]=a[b[0]+"Axis"].len-k[b[0]]);if(0!==k[b[1]]&&(k[b[0]]>=a[b[0]+"Axis"].len||k[b[0]]+k[b[1]]<=e)){for(var d in k)k[d]=0;c.outside3dPlot=!0}});"rect"===c.shapeType&&(c.shapeType="cuboid");k.z=h;k.depth=d;k.insidePlotArea=!0;l={x:k.x+k.width/2,y:k.y,z:h+d/2};b.inverted&&(l.x=k.height,l.y=c.clientX);c.plot3d=n([l],b,!0,!1)[0];
m=n([{x:m[0],y:m[1],z:h+d/2}],b,!0,!1)[0];c.tooltipPos=[m.x,m.y]}});a.z=h};b(d.column.prototype,"animate",function(a){if(this.chart.is3d()){var b=arguments[1],c=this.yAxis,d=this,h=this.yAxis.reversed;I&&(b?d.data.forEach(function(a){null!==a.y&&(a.height=a.shapeArgs.height,a.shapey=a.shapeArgs.y,a.shapeArgs.height=1,h||(a.shapeArgs.y=a.stackY?a.plotY+c.translate(a.stackY):a.plotY+(a.negative?-a.height:a.height)))}):(d.data.forEach(function(a){null!==a.y&&(a.shapeArgs.height=a.height,a.shapeArgs.y=
a.shapey,a.graphic&&a.graphic.animate(a.shapeArgs,d.options.animation))}),this.drawDataLabels()))}else a.apply(this,[].slice.call(arguments,1))});b(d.column.prototype,"plotGroup",function(a,b,c,d,h,e){"dataLabelsGroup"!==b&&this.chart.is3d()&&(this[b]&&delete this[b],e&&(this.chart.columnGroup||(this.chart.columnGroup=this.chart.renderer.g("columnGroup").add(e)),this[b]=this.chart.columnGroup,this.chart.columnGroup.attr(this.getPlotBox()),this[b].survive=!0,"group"===b||"markerGroup"===b))&&(arguments[3]=
"visible");return a.apply(this,Array.prototype.slice.call(arguments,1))});b(d.column.prototype,"setVisible",function(a,b){var c=this,d;c.chart.is3d()&&c.data.forEach(function(a){d=(a.visible=a.options.visible=b="undefined"===typeof b?!h(c.visible,a.visible):b)?"visible":"hidden";c.options.data[c.data.indexOf(a)]=a.options;a.graphic&&a.graphic.attr({visibility:d})});a.apply(this,Array.prototype.slice.call(arguments,1))});d.column.prototype.handle3dGrouping=!0;t(x,"afterInit",function(){if(this.chart.is3d()&&
this.handle3dGrouping){var a=this.options,b=a.grouping,c=a.stacking,d=h(this.yAxis.options.reversedStacks,!0),l=0;if("undefined"===typeof b||b){b=p(this.chart,c);l=a.stack||0;for(c=0;c<b[l].series.length&&b[l].series[c]!==this;c++);l=10*(b.totalStacks-b[l].position)+(d?c:-c);this.xAxis.reversed||(l=10*b.totalStacks-l)}a.depth=a.depth||25;this.z=this.z||0;a.zIndex=l}});b(d.column.prototype,"pointAttribs",z);b(d.column.prototype,"setState",l);b(d.column.prototype.pointClass.prototype,"hasNewShapeType",
F);d.columnrange&&(b(d.columnrange.prototype,"pointAttribs",z),b(d.columnrange.prototype,"setState",l),b(d.columnrange.prototype.pointClass.prototype,"hasNewShapeType",F),d.columnrange.prototype.plotGroup=d.column.prototype.plotGroup,d.columnrange.prototype.setVisible=d.column.prototype.setVisible);b(x.prototype,"alignDataLabel",function(a,b,c,d,l){var e=this.chart;d.outside3dPlot=b.outside3dPlot;if(e.is3d()&&this.is("column")){var k=this.options,m=h(d.inside,!!this.options.stacking),q=e.options.chart.options3d,
p=b.pointWidth/2||0;k={x:l.x+p,y:l.y,z:this.z+k.depth/2};e.inverted&&(m&&(l.width=0,k.x+=b.shapeArgs.height/2),90<=q.alpha&&270>=q.alpha&&(k.y+=b.shapeArgs.width));k=n([k],e,!0,!1)[0];l.x=k.x-p;l.y=b.outside3dPlot?-9E9:k.y}a.apply(this,[].slice.call(arguments,1))});b(v.prototype,"getStackBox",function(a,b,c,h,l,e,p,t){var k=a.apply(this,[].slice.call(arguments,1));if(b.is3d()&&c.base){var m=+c.base.split(",")[0],g=b.series[m];m=b.options.chart.options3d;g&&g instanceof d.column&&(g={x:k.x+(b.inverted?
p:e/2),y:k.y,z:g.options.depth/2},b.inverted&&(k.width=0,90<=m.alpha&&270>=m.alpha&&(g.y+=e)),g=n([g],b,!0,!1)[0],k.x=g.x-e/2,k.y=g.y)}return k})});G(a,"Series/Pie3DSeries.js",[a["Core/Globals.js"],a["Core/Utilities.js"]],function(a,t){var v=t.pick;t=t.wrap;var b=a.deg2rad,p=a.seriesTypes,z=a.svg;t(p.pie.prototype,"translate",function(a){a.apply(this,[].slice.call(arguments,1));if(this.chart.is3d()){var l=this,n=l.options,h=n.depth||0,p=l.chart.options.chart.options3d,d=p.alpha,t=p.beta,m=n.stacking?
(n.stack||0)*h:l._i*h;m+=h/2;!1!==n.grouping&&(m=0);l.data.forEach(function(a){var c=a.shapeArgs;a.shapeType="arc3d";c.z=m;c.depth=.75*h;c.alpha=d;c.beta=t;c.center=l.center;c=(c.end+c.start)/2;a.slicedTranslation={translateX:Math.round(Math.cos(c)*n.slicedOffset*Math.cos(d*b)),translateY:Math.round(Math.sin(c)*n.slicedOffset*Math.cos(d*b))}})}});t(p.pie.prototype.pointClass.prototype,"haloPath",function(a){var b=arguments;return this.series.chart.is3d()?[]:a.call(this,b[1])});t(p.pie.prototype,"pointAttribs",
function(a,b,n){a=a.call(this,b,n);n=this.options;this.chart.is3d()&&!this.chart.styledMode&&(a.stroke=n.edgeColor||b.color||this.color,a["stroke-width"]=v(n.edgeWidth,1));return a});t(p.pie.prototype,"drawDataLabels",function(a){if(this.chart.is3d()){var l=this.chart.options.chart.options3d;this.data.forEach(function(a){var h=a.shapeArgs,n=h.r,d=(h.start+h.end)/2;a=a.labelPosition;var p=a.connectorPosition,m=-n*(1-Math.cos((h.alpha||l.alpha)*b))*Math.sin(d),k=n*(Math.cos((h.beta||l.beta)*b)-1)*Math.cos(d);
[a.natural,p.breakAt,p.touchingSliceAt].forEach(function(a){a.x+=k;a.y+=m})})}a.apply(this,[].slice.call(arguments,1))});t(p.pie.prototype,"addPoint",function(a){a.apply(this,[].slice.call(arguments,1));this.chart.is3d()&&this.update(this.userOptions,!0)});t(p.pie.prototype,"animate",function(a){if(this.chart.is3d()){var b=arguments[1],l=this.options.animation,h=this.center,p=this.group,d=this.markerGroup;z&&(!0===l&&(l={}),b?(p.oldtranslateX=v(p.oldtranslateX,p.translateX),p.oldtranslateY=v(p.oldtranslateY,
p.translateY),b={translateX:h[0],translateY:h[1],scaleX:.001,scaleY:.001},p.attr(b),d&&(d.attrSetters=p.attrSetters,d.attr(b))):(b={translateX:p.oldtranslateX,translateY:p.oldtranslateY,scaleX:1,scaleY:1},p.animate(b,l),d&&d.animate(b,l)))}else a.apply(this,[].slice.call(arguments,1))})});G(a,"Series/Scatter3DSeries.js",[a["Core/Globals.js"],a["Extensions/Math3D.js"],a["Core/Series/Point.js"],a["Core/Utilities.js"]],function(a,t,v,b){var p=t.pointCameraDistance;t=b.seriesType;var z=a.seriesTypes;
t("scatter3d","scatter",{tooltip:{pointFormat:"x: <b>{point.x}</b><br/>y: <b>{point.y}</b><br/>z: <b>{point.z}</b><br/>"}},{pointAttribs:function(a){var b=z.scatter.prototype.pointAttribs.apply(this,arguments);this.chart.is3d()&&a&&(b.zIndex=p(a,this.chart));return b},axisTypes:["xAxis","yAxis","zAxis"],pointArrayMap:["x","y","z"],parallelArrays:["x","y","z"],directTouch:!0},{applyOptions:function(){v.prototype.applyOptions.apply(this,arguments);"undefined"===typeof this.z&&(this.z=0);return this}});
""});G(a,"masters/highcharts-3d.src.js",[],function(){})});
//# sourceMappingURL=highcharts-3d.js.map